import{d as N,s as v,a as p,o as d,b as s,e as a,m as A,w as i,f as t,i as j,P as y,g as c,F as f,r as w,t as l,j as h,h as E,W as L}from"./app-ByQyqBS_.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-DQAcQT4Q.js";import{g as D,c as k}from"./i18n-Y5fp0i2u.js";import{_ as x}from"./index-CgpMGGsi.js";import{_ as P,a as z,b as B,c as F,d as V}from"./DialogTitle.vue_vue_type_script_setup_true_lang-G0VSXZba.js";import{_ as S}from"./DialogDescription.vue_vue_type_script_setup_true_lang-qXEGH56B.js";import"./index-f7ZDSE-M.js";import"./useForwardPropsEmits-BMF7lwx-.js";import"./useForwardExpose-Cm5UNL-Y.js";import"./useFocusGuards-DbLdHL-X.js";import"./Teleport-CdpgOwT1.js";import"./VisuallyHidden-D1GZ7jD7.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-DU-I71e0.js";import"./RovingFocusGroup-B7He9Lbd.js";import"./createLucideIcon-BMrOxxBw.js";import"./x-BzXsbRZC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CpED-Kne.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useToast-KxfFLkHg.js";const U={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg"},H={class:"p-6 lg:p-8 bg-white dark:bg-gray-800 dark:bg-gradient-to-bl dark:from-gray-700/50 dark:via-transparent border-b border-gray-200 dark:border-gray-700"},O={class:"flex justify-between items-center mb-6"},I={class:"flex space-x-2"},Q={class:"mt-8 flow-root"},G={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},J={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},K={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},R={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},X={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Y={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},tt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},et={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},rt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},at={key:1},st={key:0,class:"mt-6 flex justify-between items-center"},it={class:"text-sm text-gray-700 dark:text-gray-400"},ot={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Ct=N({__name:"Index",props:{ticketDefinitions:{},errors:{}},setup(T){const n=T,u=v(!1),g=v(null),C=o=>{g.value=o,u.value=!0},m=()=>{g.value=null,u.value=!1},$=()=>{g.value&&L.delete(route("admin.ticket-definitions.destroy",g.value.id),{onSuccess:()=>{m(),alert("Ticket definition deleted successfully.")},onError:o=>{m();const e=Object.values(o).join(" ");alert(`Failed to delete ticket definition: ${e||"Please try again."}`),console.error("Error deleting ticket definition:",o)},preserveScroll:!0})},b=o=>{if(!o)return"N/A";try{const e={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(o).toLocaleString(k.value,e)}catch(e){return console.error("Error formatting date:",o,e),o}};return(o,e)=>(d(),p(f,null,[s(a(A),{title:"Ticket Definitions"}),s(M,null,{default:i(()=>[t("div",U,[t("div",W,[t("div",q,[t("div",H,[t("div",O,[e[2]||(e[2]=t("h1",{class:"text-2xl font-medium text-gray-900 dark:text-white"}," Ticket Definitions ",-1)),t("div",I,[s(a(y),{href:o.route("admin.ticket-definitions.create"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-500 active:bg-indigo-700 focus:outline-none focus:border-indigo-700 focus:ring focus:ring-indigo-200 disabled:opacity-25 transition"},{default:i(()=>e[1]||(e[1]=[c(" Create Ticket Definition ")])),_:1},8,["href"])])]),e[7]||(e[7]=t("p",{class:"-mt-4 mb-6 text-sm text-gray-700 dark:text-gray-300"}," A list of all the ticket definitions in the system. ",-1)),t("div",Q,[t("div",G,[t("div",J,[t("table",K,[e[6]||(e[6]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Name"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Price"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Quantity"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Status"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Availability Window"),t("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",R,[n.ticketDefinitions&&n.ticketDefinitions.data&&n.ticketDefinitions.data.length?(d(!0),p(f,{key:0},w(n.ticketDefinitions.data,r=>(d(),p("tr",{key:r.id},[t("td",X,l(a(D)(r.name,a(k))),1),t("td",Y,l(r.price!==null?(r.price/100).toFixed(2):"N/A"),1),t("td",Z,l(r.total_quantity!==null?r.total_quantity:"Unlimited"),1),t("td",tt,[t("span",{class:h([{"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":r.status==="active","bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":r.status==="draft","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":r.status==="inactive","bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300":r.status==="archived"},"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ring-opacity-20"])},l(r.status?r.status.charAt(0).toUpperCase()+r.status.slice(1):"N/A"),3)]),t("td",et,l(b(r.availability_window_start))+" - "+l(b(r.availability_window_end)),1),t("td",rt,[s(a(y),{href:o.route("admin.ticket-definitions.edit",r.id)},{default:i(()=>[s(a(x),{variant:"outline",size:"sm"},{default:i(()=>e[3]||(e[3]=[c("Edit")])),_:1})]),_:2},1032,["href"]),s(a(x),{variant:"destructive",size:"sm",onClick:_=>C(r)},{default:i(()=>e[4]||(e[4]=[c("Delete")])),_:2},1032,["onClick"])])]))),128)):(d(),p("tr",at,e[5]||(e[5]=[t("td",{colspan:"6",class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 text-center"}," No ticket definitions found. ",-1)])))])])])])]),n.ticketDefinitions.links&&n.ticketDefinitions.links.length>1?(d(),p("div",st,[t("div",it," Showing "+l(n.ticketDefinitions.from)+" to "+l(n.ticketDefinitions.to)+" of "+l(n.ticketDefinitions.total)+" results ",1),t("nav",ot,[(d(!0),p(f,null,w(n.ticketDefinitions.links,(r,_)=>(d(),E(a(y),{key:_,href:r.url||"","preserve-scroll":"","preserve-state":"",class:h(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",{"bg-indigo-500 border-indigo-500 text-white dark:bg-indigo-600 dark:border-indigo-600":r.active,"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700":!r.active&&r.url,"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-gray-500":!r.url}]),innerHTML:r.label,disabled:!r.url},null,8,["href","class","innerHTML","disabled"]))),128))])])):j("",!0)])])])]),s(a(P),{open:u.value,"onUpdate:open":e[0]||(e[0]=r=>u.value=r)},{default:i(()=>[s(a(z),null,{default:i(()=>[s(a(B),null,{default:i(()=>[s(a(F),null,{default:i(()=>e[8]||(e[8]=[c("Delete Ticket Definition")])),_:1}),s(a(S),null,{default:i(()=>[c(' Are you sure you want to delete the ticket definition "'+l(g.value?a(D)(g.value.name,a(k)):"")+'"? This action cannot be undone. ',1)]),_:1})]),_:1}),s(a(V),null,{default:i(()=>[s(a(x),{variant:"outline",onClick:m},{default:i(()=>e[9]||(e[9]=[c("Cancel")])),_:1}),s(a(x),{variant:"destructive",onClick:$},{default:i(()=>e[10]||(e[10]=[c("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Ct as default};
