import{d as A,c as x,s as E,C as q,D as M,a as u,o as m,b as a,e,m as B,w as i,f as r,p as T,t as g,F as _,r as k,j as F,k as V,g as c,E as H,i as $,l as z,P as K}from"./app-CGQ0TI7Y.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-CMjZICz_.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-CXxeD9Iq.js";import{_ as f}from"./Input.vue_vue_type_script_setup_true_lang-CsJR5Nzf.js";import{_ as G}from"./Checkbox.vue_vue_type_script_setup_true_lang-CeQMwqt9.js";import{_ as d}from"./InputError.vue_vue_type_script_setup_true_lang-DOS1rZr9.js";import{_ as Z}from"./RichTextEditor.vue_vue_type_script_setup_true_lang-CyngmPeC.js";import{_ as I}from"./index-Df_9D6Ld.js";import{c as J}from"./i18n-BesMc3CI.js";import"./index-BSvl-boQ.js";import"./useForwardPropsEmits-CjFricEf.js";import"./useForwardExpose-D4uuvYxf.js";import"./useFocusGuards-DnVuDt3J.js";import"./Teleport-Dkt4jPSJ.js";import"./VisuallyHidden-D6Ya2WGV.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-MEGwmUa3.js";import"./RovingFocusGroup-Dst5JGNJ.js";import"./createLucideIcon-CRq1YezX.js";import"./x-Dw6ZbmiC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Yge9527i.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useToast-voWX6zgl.js";import"./check-NcvaIUrQ.js";import"./useFormControl-BPGL-xBh.js";import"./VisuallyHiddenInput-BNfurxWW.js";const Q={class:"py-12 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto"},R={class:"bg-white dark:bg-gray-800 shadow sm:rounded-lg"},W={class:"p-6"},X={class:"text-lg font-medium leading-6 text-gray-900 dark:text-white"},Y={class:"px-6 py-5"},ee={class:"border-b border-gray-200 dark:border-gray-700 mb-4"},se={class:"-mb-px flex space-x-8","aria-label":"Tabs"},te=["onClick"],le={class:"mb-4"},ae={class:"mb-4"},re={class:"px-6 py-5 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2"},oe={class:"px-6 py-5"},ne={class:"mb-4"},ie={key:0,class:"mb-4"},de={key:1,class:"mb-4"},ue=["value"],me={class:"mb-4"},ce={class:"col-span-6 sm:col-span-3"},pe={class:"px-6 py-5"},ge={class:"mb-4"},fe=["value"],_e={class:"p-6 flex justify-end space-x-3"},He=A({__name:"Create",props:{event:{type:Object,required:!0},venues:{type:Array,required:!0},availableLocales:{type:Object,required:!0},occurrenceStatuses:{type:Array,required:!0},errors:Object,pageTitle:String,breadcrumbs:Array},setup(N){var C,S,U,O;const n=N,v=x(()=>Object.entries(n.availableLocales).map(([o,l])=>({key:o,label:l}))),b=E(J.value||((C=v.value[0])==null?void 0:C.key)||"en"),w={},h={};v.value.forEach(o=>{w[o.key]="",h[o.key]=""});const t=q({event_id:n.event.id,name:w,description:h,start_at:"",end_at:"",venue_id:null,is_online:!1,online_meeting_link:"",capacity:null,status:((S=n.occurrenceStatuses.find(o=>o.value==="scheduled"))==null?void 0:S.value)||((U=n.occurrenceStatuses[0])==null?void 0:U.value)||"",timezone:((O=n.occurrence)==null?void 0:O.timezone)||"Asia/Hong_Kong"});M(()=>t.is_online,o=>{o?t.venue_id=null:t.online_meeting_link=""});const D=x(()=>[{value:null,label:"Select a Venue (if applicable)"},...n.venues.map(o=>({value:o.id,label:o.name}))]),j=x(()=>n.occurrenceStatuses.map(o=>({value:o.value,label:o.label}))),L=()=>{t.post(route("admin.events.occurrences.store",{event:n.event.id}),{})};return(o,l)=>(m(),u(_,null,[a(e(B),{title:n.pageTitle||"Create Event Occurrence"},null,8,["title"]),a(P,{"page-title":n.pageTitle,breadcrumbs:n.breadcrumbs},{default:i(()=>[r("div",Q,[r("div",R,[r("form",{onSubmit:T(L,["prevent"]),class:"divide-y divide-gray-200 dark:divide-gray-700"},[r("div",W,[r("h2",X," Create New Occurrence for: "+g(n.event.name),1),l[8]||(l[8]=r("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Fill in the details for the new event occurrence. ",-1))]),r("div",Y,[r("div",ee,[r("nav",se,[(m(!0),u(_,null,k(v.value,s=>(m(),u("button",{key:s.key,onClick:T(y=>b.value=s.key,["prevent"]),class:F([b.value===s.key?"border-indigo-500 text-indigo-600 dark:border-indigo-400 dark:text-indigo-300":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-600","whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm focus:outline-none"])},g(s.label),11,te))),128))])]),(m(!0),u(_,null,k(v.value,s=>V((m(),u("div",{key:s.key},[r("div",le,[a(e(p),{for:"name_"+s.key},{default:i(()=>[c(g("Name ("+s.label+")"),1)]),_:2},1032,["for"]),a(e(f),{id:"name_"+s.key,modelValue:e(t).name[s.key],"onUpdate:modelValue":y=>e(t).name[s.key]=y,type:"text",class:"mt-1 block w-full",placeholder:"Occurrence Name in "+s.label},null,8,["id","modelValue","onUpdate:modelValue","placeholder"]),a(d,{message:e(t).errors[`name.${s.key}`],class:"mt-1"},null,8,["message"])]),r("div",ae,[a(e(p),{for:"description_"+s.key},{default:i(()=>[c(g("Description ("+s.label+")"),1)]),_:2},1032,["for"]),a(Z,{id:"description_"+s.key,modelValue:e(t).description[s.key],"onUpdate:modelValue":y=>e(t).description[s.key]=y,class:"mt-1 block w-full",placeholder:"Detailed description in "+s.label+" (optional)"},null,8,["id","modelValue","onUpdate:modelValue","placeholder"]),a(d,{message:e(t).errors[`description.${s.key}`],class:"mt-1"},null,8,["message"])])])),[[H,b.value===s.key]])),128)),a(d,{message:e(t).errors.name,class:"mt-1"},null,8,["message"]),a(d,{message:e(t).errors.description,class:"mt-1"},null,8,["message"])]),r("div",re,[r("div",null,[a(e(p),{for:"start_at"},{default:i(()=>l[9]||(l[9]=[c("Start Date & Time")])),_:1}),a(e(f),{id:"start_at",modelValue:e(t).start_at,"onUpdate:modelValue":l[0]||(l[0]=s=>e(t).start_at=s),type:"datetime-local",class:"mt-1 block w-full"},null,8,["modelValue"]),a(d,{message:e(t).errors.start_at,class:"mt-1"},null,8,["message"])]),r("div",null,[a(e(p),{for:"end_at"},{default:i(()=>l[10]||(l[10]=[c("End Date & Time")])),_:1}),a(e(f),{id:"end_at",modelValue:e(t).end_at,"onUpdate:modelValue":l[1]||(l[1]=s=>e(t).end_at=s),type:"datetime-local",class:"mt-1 block w-full"},null,8,["modelValue"]),a(d,{message:e(t).errors.end_at,class:"mt-1"},null,8,["message"])])]),r("div",oe,[r("div",ne,[a(e(p),{class:"flex items-center"},{default:i(()=>[a(e(G),{id:"is_online",checked:e(t).is_online,"onUpdate:checked":l[2]||(l[2]=s=>e(t).is_online=s)},null,8,["checked"]),l[11]||(l[11]=r("span",{class:"ml-2 text-sm text-gray-600 dark:text-gray-400"},"This is an online occurrence",-1))]),_:1}),a(d,{message:e(t).errors.is_online,class:"mt-1"},null,8,["message"])]),e(t).is_online?(m(),u("div",ie,[a(e(p),{for:"online_meeting_link"},{default:i(()=>l[12]||(l[12]=[c("Online Meeting Link (e.g., Zoom, Google Meet)")])),_:1}),a(e(f),{id:"online_meeting_link",modelValue:e(t).online_meeting_link,"onUpdate:modelValue":l[3]||(l[3]=s=>e(t).online_meeting_link=s),type:"url",class:"mt-1 block w-full",placeholder:"https://..."},null,8,["modelValue"]),a(d,{message:e(t).errors.online_meeting_link,class:"mt-1"},null,8,["message"])])):$("",!0),e(t).is_online?$("",!0):(m(),u("div",de,[a(e(p),{for:"venue_id"},{default:i(()=>l[13]||(l[13]=[c("Venue")])),_:1}),V(r("select",{id:"venue_id","onUpdate:modelValue":l[4]||(l[4]=s=>e(t).venue_id=s),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},[(m(!0),u(_,null,k(D.value,s=>(m(),u("option",{key:s.value,value:s.value},g(s.label),9,ue))),128))],512),[[z,e(t).venue_id]]),a(d,{message:e(t).errors.venue_id,class:"mt-1"},null,8,["message"])])),r("div",me,[a(e(p),{for:"capacity"},{default:i(()=>l[14]||(l[14]=[c("Capacity (leave blank for unlimited)")])),_:1}),a(e(f),{id:"capacity","model-value":e(t).capacity===null?void 0:e(t).capacity,"onUpdate:modelValue":l[5]||(l[5]=s=>e(t).capacity=s===""||s===void 0||s===null?null:Number(s)),type:"number",min:"0",class:"mt-1 block w-full",placeholder:"e.g., 100"},null,8,["model-value"]),a(d,{message:e(t).errors.capacity,class:"mt-1"},null,8,["message"])]),r("div",ce,[a(e(p),{for:"timezone"},{default:i(()=>l[15]||(l[15]=[c("Timezone")])),_:1}),a(e(f),{id:"timezone",modelValue:e(t).timezone,"onUpdate:modelValue":l[6]||(l[6]=s=>e(t).timezone=s),type:"text",class:"mt-1 block w-full",placeholder:"e.g., Asia/Hong_Kong"},null,8,["modelValue"]),a(d,{message:e(t).errors.timezone,class:"mt-1"},null,8,["message"])])]),r("div",pe,[r("div",ge,[a(e(p),{for:"status"},{default:i(()=>l[16]||(l[16]=[c("Status")])),_:1}),V(r("select",{id:"status","onUpdate:modelValue":l[7]||(l[7]=s=>e(t).status=s),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},[(m(!0),u(_,null,k(j.value,s=>(m(),u("option",{key:s.value,value:s.value},g(s.label),9,fe))),128))],512),[[z,e(t).status]]),a(d,{message:e(t).errors.status,class:"mt-1"},null,8,["message"])])]),r("div",_e,[a(e(K),{href:o.route("admin.events.occurrences.index",{event:n.event.id}),class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800"},{default:i(()=>l[17]||(l[17]=[c(" Cancel ")])),_:1},8,["href"]),a(e(I),{disabled:e(t).processing},{default:i(()=>l[18]||(l[18]=[c(" Create Occurrence ")])),_:1},8,["disabled"])])],32)])])]),_:1},8,["page-title","breadcrumbs"])],64))}});export{He as default};
