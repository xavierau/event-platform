import{a,o as e,f as l,d as z,n as A,s as E,c as _,A as I,i as m,k as M,j as w,h as y,b as i,e as s,t as p,E as j,F as b,r as $,W as V,P as L,w as c,g as C}from"./app-BlriFIqe.js";import{_ as S}from"./index-n8QSRl2p.js";import{a as D,e as P,f as W,g as F,h as T,c as H,d as O,_ as q}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-BKdqBXVk.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";function J(x,d){return e(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function B(x,d){return e(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})])}const K={class:"locale-switcher relative"},Q={key:0,class:"relative"},R={key:1},U={class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50"},X={class:"py-1"},Y=["onClick"],Z={class:"flex-1 text-left"},ee={key:0,class:"text-blue-600 dark:text-blue-400"},te={key:1,class:"flex space-x-1"},ae=["onClick"],se={key:2,class:"flex items-center space-x-1"},re=["value"],oe=["value"],ne=z({__name:"LocaleSwitcher",props:{variant:{default:"dropdown"},showIcon:{type:Boolean,default:!0},showLabel:{type:Boolean,default:!0}},setup(x){const d=A(),t=E(!1),g=_(()=>d.props.availableLocales||{en:"Eng","zh-TW":"繁","zh-CN":"简"}),r=_(()=>d.props.locale||"en"),h=_(()=>g.value[r.value]||"Eng"),v=o=>{if(o===r.value){t.value=!1;return}V.post("/locale/switch",{locale:o},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{t.value=!1}})},k=o=>{o.target.closest(".locale-switcher")||(t.value=!1)};return I(()=>{document.addEventListener("click",k)}),(o,f)=>(e(),a("div",K,[o.variant==="dropdown"?(e(),a("div",Q,[l("button",{onClick:f[0]||(f[0]=u=>t.value=!t.value),class:w(["flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors duration-200",{"bg-gray-100 dark:bg-gray-800":t.value}])},[o.showIcon?(e(),y(s(B),{key:0,class:"h-4 w-4"})):m("",!0),o.showLabel?(e(),a("span",R,p(h.value),1)):m("",!0),i(s(J),{class:w(["h-4 w-4 transition-transform duration-200",{"rotate-180":t.value}])},null,8,["class"])],2),M(l("div",U,[l("div",X,[(e(!0),a(b,null,$(g.value,(u,n)=>(e(),a("button",{key:n,onClick:N=>v(n),class:w(["flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",{"bg-gray-100 dark:bg-gray-700 font-medium":n===r.value,"text-gray-900 dark:text-gray-100":n===r.value}])},[l("span",Z,p(u),1),n===r.value?(e(),a("span",ee,"✓")):m("",!0)],10,Y))),128))])],512),[[j,t.value]])])):o.variant==="button"?(e(),a("div",te,[(e(!0),a(b,null,$(g.value,(u,n)=>(e(),a("button",{key:n,onClick:N=>v(n),class:w(["px-3 py-1 text-sm font-medium rounded-md transition-colors duration-200",n===r.value?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"])},p(u),11,ae))),128))])):o.variant==="minimal"?(e(),a("div",se,[o.showIcon?(e(),y(s(B),{key:0,class:"h-4 w-4 text-gray-500 dark:text-gray-400"})):m("",!0),l("select",{value:r.value,onChange:f[1]||(f[1]=u=>v(u.target.value)),class:"text-sm bg-transparent border-none focus:ring-0 text-gray-700 dark:text-gray-300 cursor-pointer"},[(e(!0),a(b,null,$(g.value,(u,n)=>(e(),a("option",{key:n,value:n},p(u),9,oe))),128))],40,re)])):m("",!0)]))}}),le=G(ne,[["__scopeId","data-v-eb98557e"]]),ie={class:"bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-50 border-b dark:border-gray-700"},ce={class:"container mx-auto flex justify-between items-center p-2"},ue={class:"flex items-center space-x-4 flex-1 min-w-0"},de={class:"flex items-center space-x-3 flex-shrink-0"},fe=z({__name:"PublicHeader",props:{showSearch:{type:Boolean,default:!0},showLocationSelector:{type:Boolean,default:!0}},setup(x){const d=A(),t=_(()=>d.props.auth),g=_(()=>{var r;return!!((r=t.value)!=null&&r.user)});return(r,h)=>(e(),a("header",ie,[l("div",ce,[l("div",ue,[i(s(L),{href:r.route("home"),class:"flex items-center"},{default:c(()=>h[0]||(h[0]=[l("img",{src:"/images/logo.png",alt:"Showeasy Logo",class:"h-8 w-auto"},null,-1)])),_:1},8,["href"])]),l("div",de,[i(le,{variant:"dropdown"}),g.value?(e(),y(s(q),{key:1},{default:c(()=>[i(s(D),{"as-child":""},{default:c(()=>[i(s(S),{variant:"ghost",size:"icon",class:"relative size-10 w-auto rounded-full p-1 focus-within:ring-2 focus-within:ring-primary"},{default:c(()=>[i(s(P),{class:"size-8 overflow-hidden rounded-full"},{default:c(()=>{var v;return[(v=t.value.user)!=null&&v.avatar?(e(),y(s(W),{key:0,src:t.value.user.avatar,alt:t.value.user.name},null,8,["src","alt"])):m("",!0),i(s(F),{class:"rounded-lg bg-neutral-200 font-semibold text-black dark:bg-neutral-700 dark:text-white"},{default:c(()=>{var k;return[C(p(s(T)(((k=t.value.user)==null?void 0:k.name)||"")),1)]}),_:1})]}),_:1})]),_:1})]),_:1}),i(s(H),{align:"end",class:"w-56"},{default:c(()=>[i(O,{user:t.value.user},null,8,["user"])]),_:1})]),_:1})):(e(),y(s(S),{key:0,variant:"ghost","as-child":""},{default:c(()=>[i(s(L),{href:r.route("login"),class:"text-sm font-medium"},{default:c(()=>h[1]||(h[1]=[C(" Log in ")])),_:1},8,["href"])]),_:1}))])])]))}});export{fe as _};
