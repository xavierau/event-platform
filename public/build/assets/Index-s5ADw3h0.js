import{d as T,s as k,a as d,o,b as n,e as r,m as S,w as l,f as t,i as v,t as c,P as y,g as p,F as f,r as w,j as C,h as V,W as j}from"./app-CBcdSYGl.js";import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-Cykr0hji.js";import{g as m,c as g}from"./i18n-Ddk1guED.js";import{_ as L,a as B,b as I,c as M,d as P}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BK9OOHaH.js";import{_ as U}from"./DialogClose.vue_vue_type_script_setup_true_lang-CRbGBQ41.js";import{_ as z}from"./DialogDescription.vue_vue_type_script_setup_true_lang-DQAaR8IZ.js";import{_ as N}from"./index-BH95GTik.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-B_RuNNQq.js";import"./useForwardPropsEmits-BUmNaTt4.js";import"./useForwardExpose-2b0zYAwj.js";import"./useFocusGuards-BRQO_hst.js";import"./Teleport-BsQYp6hP.js";import"./VisuallyHidden-dajNmunB.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-CPh5rXLj.js";import"./RovingFocusGroup-3mJjWm0y.js";import"./createLucideIcon-dtD6wVEP.js";import"./x-Br0THnaC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C3rar4t_.js";import"./useToast-C_yoBaOs.js";const H={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg"},G={class:"p-6 lg:p-8 bg-white dark:bg-gray-800 dark:bg-gradient-to-bl dark:from-gray-700/50 dark:via-transparent border-b border-gray-200 dark:border-gray-700"},J={class:"flex justify-between items-center mb-6"},K={class:"text-2xl font-medium text-gray-900 dark:text-white"},Q={class:"overflow-x-auto"},R={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},X={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Y={key:0},Z={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},ee={key:0},te={key:1,class:"text-xs text-gray-500 italic"},ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},oe={key:0},ne={key:1},ie={key:2},de={key:3},le={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ce={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},pe={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ge=["onClick"],xe={key:0,class:"mt-6 flex justify-between items-center"},ue={class:"text-sm text-gray-700 dark:text-gray-400"},me={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},ye=T({__name:"Index",props:{event:Object,occurrences:Object,pageTitle:String,breadcrumbs:Array},setup(D){const s=D,x=k(!1),u=k(null),O=i=>{u.value=i,x.value=!0},_=()=>{x.value=!1,u.value=null},$=()=>{u.value&&j.delete(route("admin.occurrences.destroy",u.value),{onSuccess:()=>_(),preserveState:!1})},b=i=>{if(!i)return"N/A";try{const a={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(i).toLocaleDateString(g.value||void 0,a)}catch(a){return console.error("Error formatting date:",i,a),i}},A=i=>i?i.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase()):"N/A";return(i,a)=>(o(),d(f,null,[n(r(S),{title:s.pageTitle||"Event Occurrences"},null,8,["title"]),n(E,{"page-title":s.pageTitle,breadcrumbs:s.breadcrumbs},{default:l(()=>[t("div",H,[t("div",W,[t("div",q,[t("div",G,[t("div",J,[t("h1",K," Occurrences for: "+c(s.event.name),1),n(r(y),{href:i.route("admin.events.occurrences.create",{event:s.event.id}),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-500 active:bg-indigo-700 focus:outline-none focus:border-indigo-700 focus:ring focus:ring-indigo-200 disabled:opacity-25 transition"},{default:l(()=>a[1]||(a[1]=[p(" Create New Occurrence ")])),_:1},8,["href"])]),t("div",Q,[t("table",R,[a[4]||(a[4]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Name/Desc"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Start At"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"End At"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Venue / Online"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Capacity"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Status"),t("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",X,[!s.occurrences||s.occurrences.data.length===0?(o(),d("tr",Y,a[2]||(a[2]=[t("td",{colspan:"7",class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 text-center"}," No occurrences found for this event. ",-1)]))):v("",!0),(o(!0),d(f,null,w(s.occurrences.data,e=>(o(),d("tr",{key:e.id},[t("td",Z,[e.name&&r(m)(e.name,r(g))?(o(),d("div",ee,c(r(m)(e.name,r(g))),1)):(o(),d("div",te,c(r(m)(e.description,r(g),"en").substring(0,50)||"No name/desc")+"...",1))]),t("td",ae,c(b(e.start_at_utc)),1),t("td",re,c(b(e.end_at_utc)),1),t("td",se,[e.is_online?(o(),d("span",oe,"Online: "+c(e.online_meeting_link),1)):e.venue&&e.venue.name?(o(),d("span",ne,c(r(m)(e.venue.name,r(g))),1)):e.venue&&!e.venue.name?(o(),d("span",ie,"Unknown Venue Name")):(o(),d("span",de,"N/A"))]),t("td",le,c(e.capacity!==null?e.capacity:"N/A"),1),t("td",ce,[t("span",{class:C(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-green-100 text-green-800":e.status==="scheduled","bg-red-100 text-red-800":e.status==="cancelled","bg-yellow-100 text-yellow-800":e.status==="postponed","bg-blue-100 text-blue-800":e.status==="completed"}])},c(A(e.status)),3)]),t("td",pe,[n(r(y),{href:i.route("admin.occurrences.edit",e.id),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-600 mr-3"},{default:l(()=>a[3]||(a[3]=[p("Edit")])),_:2},1032,["href"]),t("button",{onClick:h=>O(e.id),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-600"},"Delete",8,ge)])]))),128))])])]),s.occurrences&&s.occurrences.links&&s.occurrences.links.length>1?(o(),d("div",xe,[t("div",ue," Showing "+c(s.occurrences.from)+" to "+c(s.occurrences.to)+" of "+c(s.occurrences.total)+" results ",1),t("nav",me,[(o(!0),d(f,null,w(s.occurrences.links,(e,h)=>(o(),V(r(y),{key:h,href:e.url||"","preserve-scroll":"","preserve-state":"",class:C(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",{"bg-indigo-500 border-indigo-500 text-white dark:bg-indigo-600 dark:border-indigo-600":e.active,"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700":!e.active&&e.url,"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-gray-500":!e.url}]),innerHTML:e.label,disabled:!e.url},null,8,["href","class","innerHTML","disabled"]))),128))])])):v("",!0)])])])]),n(r(L),{open:x.value,"onUpdate:open":a[0]||(a[0]=e=>x.value=e)},{default:l(()=>[n(r(B),{class:"sm:max-w-[425px]"},{default:l(()=>[n(r(I),null,{default:l(()=>[n(r(M),null,{default:l(()=>a[5]||(a[5]=[p("Delete Occurrence?")])),_:1}),n(r(z),null,{default:l(()=>a[6]||(a[6]=[p(" Are you sure you want to delete this occurrence? This action cannot be undone. ")])),_:1})]),_:1}),n(r(P),{class:"pt-4"},{default:l(()=>[n(r(U),{"as-child":""},{default:l(()=>[n(r(N),{variant:"outline",onClick:_},{default:l(()=>a[7]||(a[7]=[p("Cancel")])),_:1})]),_:1}),n(r(N),{variant:"destructive",onClick:$,class:"ml-3"},{default:l(()=>a[8]||(a[8]=[p("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1},8,["page-title","breadcrumbs"])],64))}}),Ie=F(ye,[["__scopeId","data-v-ea32f0d0"]]);export{Ie as default};
