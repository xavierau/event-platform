import{d as P,C as E,s as f,c as _,a as r,o as i,b as c,f as e,e as o,m as N,i as g,w as p,g as h,P as k,aE as Q,j as x,t as s,p as D,k as C,v as A,F as U}from"./app-_LMAJuVE.js";import{_ as F}from"./FrontendFooter.vue_vue_type_script_setup_true_lang-DTWjt7Az.js";import{Q as R}from"./browser-BIJ6lEpp.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"min-h-screen bg-gray-100 dark:bg-gray-900"},I={class:"sticky top-0 z-50 border-b bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800"},L={class:"relative container mx-auto flex items-center p-4"},q={class:"container mx-auto px-4 py-6 pb-24"},O={class:"mb-8 rounded-lg bg-white p-6 shadow dark:bg-gray-800"},z={class:"mb-6 flex items-center justify-between"},T={key:0,class:"space-y-4"},$={class:"flex items-center space-x-4"},G={class:"flex h-16 w-16 items-center justify-center rounded-full bg-indigo-100 dark:bg-indigo-900"},J={class:"text-2xl font-bold text-indigo-600 dark:text-indigo-400"},Y={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},H={class:"text-gray-600 dark:text-gray-300"},K={class:"text-sm text-gray-500 dark:text-gray-400"},W={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},X={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Z={class:"flex space-x-3 pt-4"},ee=["disabled"],te={key:2,class:"mt-4 rounded-lg border border-yellow-200 bg-yellow-50 p-4 dark:border-yellow-700 dark:bg-yellow-900/20"},ae={key:3,class:"mt-4 rounded-lg border border-green-200 bg-green-50 p-4 dark:border-green-700 dark:bg-green-900/20"},se={class:"text-sm text-green-800 dark:text-green-200"},re={class:"mb-8 rounded-lg bg-white p-6 shadow dark:bg-gray-800"},ie={class:"mb-6 flex items-center justify-between"},oe={class:"flex space-x-2"},de={class:"flex items-center space-x-4"},ne={class:"flex-1"},le={class:"flex items-center space-x-2"},ge={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},me={class:"mt-1 text-sm text-gray-600 dark:text-gray-300"},ue={key:0},ce={key:1},xe={key:0,class:"text-right"},ye={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},be={class:"mx-4 w-full max-w-md rounded-lg bg-white p-6"},ve={class:"mb-4 flex items-start justify-between"},fe={class:"text-center"},pe={class:"mb-4"},he={class:"font-medium"},ke={class:"text-sm text-gray-600"},we={class:"mt-2"},_e={key:0,class:"mt-1 text-xs text-gray-500"},Ce={class:"mx-auto mb-4 flex h-64 w-64 items-center justify-center rounded-lg border border-gray-200 bg-white"},Ae=["src"],Se={key:1,class:"text-center"},Me=P({__name:"MyProfile",props:{user:{type:Object,required:!0},membership:{type:Object,default:null},mustVerifyEmail:{type:Boolean,default:!1},status:{type:String,default:""}},setup(l){const d=l,n=E({name:d.user.name,email:d.user.email}),m=f(!1),v=f(!1),y=f("");function w(){m.value&&n.reset(),m.value=!m.value}async function S(){const u={userId:d.user.id,userName:d.user.name,email:d.user.email,membershipLevel:a.value.level,membershipStatus:a.value.status,expiresAt:a.value.expiresAt,timestamp:new Date().toISOString()};try{const t=await R.toDataURL(JSON.stringify(u),{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});y.value=t}catch(t){console.error("Error generating membership QR code:",t),y.value=""}v.value=!0}function M(){n.patch(route("profile.update"),{preserveScroll:!0,onSuccess:()=>{m.value=!1}})}const j=_(()=>d.user.created_at?new Date(d.user.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"),a=_(()=>{var u,t;return d.membership&&d.membership.status==="active"?{level:((t=(u=d.membership.level)==null?void 0:u.name)==null?void 0:t.en)||"Premium",status:"Active",expiresAt:d.membership.expires_at?new Date(d.membership.expires_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",isActive:!0}:{level:"Standard",status:"Free",expiresAt:"Never",isActive:!1}});return(u,t)=>(i(),r(U,null,[c(o(N),{title:"My Profile"}),e("div",B,[e("header",I,[e("div",L,[c(o(k),{href:"/",class:"absolute left-4 text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:p(()=>t[3]||(t[3]=[h(" â† Back ")])),_:1}),t[4]||(t[4]=e("h1",{class:"flex-1 text-center text-xl font-semibold text-gray-900 dark:text-gray-100"},"My Profile",-1))])]),e("main",q,[e("section",O,[e("div",z,[t[5]||(t[5]=e("h2",{class:"text-xl font-semibold text-gray-800 dark:text-gray-200"},"Profile Information",-1)),e("button",{onClick:w,class:x(["rounded-lg px-4 py-2 text-sm font-medium transition-colors",m.value?"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600":"bg-indigo-600 text-white hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600"])},s(m.value?"Cancel":"Edit"),3)]),m.value?(i(),r("form",{key:1,onSubmit:D(M,["prevent"]),class:"space-y-4"},[e("div",null,[t[6]||(t[6]=e("label",{for:"name",class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Name ",-1)),C(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=b=>o(n).name=b),type:"text",required:"",class:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:border-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"},null,512),[[A,o(n).name]]),o(n).errors.name?(i(),r("div",W,s(o(n).errors.name),1)):g("",!0)]),e("div",null,[t[7]||(t[7]=e("label",{for:"email",class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Email ",-1)),C(e("input",{id:"email","onUpdate:modelValue":t[1]||(t[1]=b=>o(n).email=b),type:"email",required:"",class:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:border-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"},null,512),[[A,o(n).email]]),o(n).errors.email?(i(),r("div",X,s(o(n).errors.email),1)):g("",!0)]),e("div",Z,[e("button",{type:"submit",disabled:o(n).processing,class:"rounded-lg bg-indigo-600 px-4 py-2 font-medium text-white hover:bg-indigo-700 disabled:cursor-not-allowed disabled:opacity-50"},s(o(n).processing?"Saving...":"Save Changes"),9,ee),e("button",{type:"button",onClick:w,class:"rounded-lg bg-gray-200 px-4 py-2 font-medium text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}," Cancel ")])],32)):(i(),r("div",T,[e("div",$,[e("div",G,[e("span",J,s(l.user.name.charAt(0).toUpperCase()),1)]),e("div",null,[e("h3",Y,s(l.user.name),1),e("p",H,s(l.user.email),1),e("p",K,"Member since "+s(j.value),1)])])])),l.mustVerifyEmail&&!l.user.email_verified_at?(i(),r("div",te,t[8]||(t[8]=[e("p",{class:"text-sm text-yellow-800 dark:text-yellow-200"}," Your email address is unverified. Please check your email for a verification link. ",-1)]))):g("",!0),l.status?(i(),r("div",ae,[e("p",se,s(l.status),1)])):g("",!0)]),e("section",re,[e("div",ie,[t[10]||(t[10]=e("h2",{class:"text-xl font-semibold text-gray-800 dark:text-gray-200"},"Membership",-1)),e("div",oe,[a.value.isActive?(i(),r("button",{key:0,onClick:S,class:"rounded-lg bg-gray-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600"}," Show QR ")):g("",!0),c(o(k),{href:u.route("my-membership"),class:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600"},{default:p(()=>t[9]||(t[9]=[h(" Manage ")])),_:1},8,["href"])])]),e("div",de,[e("div",{class:x(["flex h-16 w-16 items-center justify-center rounded-full",a.value.isActive?"bg-gradient-to-br from-yellow-400 to-yellow-600":"bg-gray-100 dark:bg-gray-700"])},[e("span",{class:x(["text-2xl font-bold",a.value.isActive?"text-white":"text-gray-600 dark:text-gray-300"])},s(a.value.isActive?"ðŸ‘‘":"ðŸ“‹"),3)],2),e("div",ne,[e("div",le,[e("h3",ge,s(a.value.level),1),e("span",{class:x(["rounded-full px-2 py-1 text-xs font-medium",a.value.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"])},s(a.value.status),3)]),e("p",me,[a.value.isActive?(i(),r("span",ue," Expires on "+s(a.value.expiresAt),1)):(i(),r("span",ce," Upgrade to unlock premium features "))])]),a.value.isActive?g("",!0):(i(),r("div",xe,[c(o(k),{href:u.route("my-membership"),class:"text-sm font-medium text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:p(()=>t[11]||(t[11]=[h(" Upgrade â†’ ")])),_:1},8,["href"])]))])]),t[12]||(t[12]=Q('<section class="mb-8 rounded-lg bg-white p-6 shadow dark:bg-gray-800" data-v-3a5ef083><h2 class="mb-4 text-xl font-semibold text-gray-800 dark:text-gray-200" data-v-3a5ef083>Account Settings</h2><div class="space-y-4" data-v-3a5ef083><div class="flex items-center justify-between border-b border-gray-200 py-3 dark:border-gray-700" data-v-3a5ef083><div data-v-3a5ef083><h3 class="text-sm font-medium text-gray-900 dark:text-gray-100" data-v-3a5ef083>Email Notifications</h3><p class="text-xs text-gray-500 dark:text-gray-400" data-v-3a5ef083>Receive updates about your bookings and events</p></div><button class="text-sm font-medium text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300" data-v-3a5ef083> Manage </button></div><div class="flex items-center justify-between border-b border-gray-200 py-3 dark:border-gray-700" data-v-3a5ef083><div data-v-3a5ef083><h3 class="text-sm font-medium text-gray-900 dark:text-gray-100" data-v-3a5ef083>Privacy Settings</h3><p class="text-xs text-gray-500 dark:text-gray-400" data-v-3a5ef083>Control who can see your activity</p></div><button class="text-sm font-medium text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300" data-v-3a5ef083> Manage </button></div><div class="flex items-center justify-between py-3" data-v-3a5ef083><div data-v-3a5ef083><h3 class="text-sm font-medium text-gray-900 dark:text-gray-100" data-v-3a5ef083>Password</h3><p class="text-xs text-gray-500 dark:text-gray-400" data-v-3a5ef083>Change your account password</p></div><button class="text-sm font-medium text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300" data-v-3a5ef083> Change </button></div></div></section>',1))]),c(F),v.value?(i(),r("div",ye,[e("div",be,[e("div",ve,[t[14]||(t[14]=e("h3",{class:"text-lg font-semibold"},"Membership QR Code",-1)),e("button",{onClick:t[2]||(t[2]=b=>v.value=!1),class:"text-gray-400 hover:text-gray-600"},t[13]||(t[13]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",fe,[e("div",pe,[e("h4",he,s(l.user.name),1),e("p",ke,s(l.user.email),1),e("div",we,[e("span",{class:x(["inline-block rounded-full px-3 py-1 text-sm font-medium",a.value.isActive?"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white":"bg-gray-100 text-gray-700"])},s(a.value.level)+" "+s(a.value.status),3)]),a.value.isActive?(i(),r("p",_e," Expires: "+s(a.value.expiresAt),1)):g("",!0)]),e("div",Ce,[y.value?(i(),r("img",{key:0,src:y.value,alt:"Membership QR Code",class:"h-full w-full object-contain p-2"},null,8,Ae)):(i(),r("div",Se,t[15]||(t[15]=[e("div",{class:"mb-2 text-2xl text-gray-400"},"ðŸ“±",-1),e("div",{class:"text-sm text-gray-600"},"Generating QR Code...",-1)])))]),t[16]||(t[16]=e("p",{class:"text-sm text-gray-600"},"Present this QR code for membership verification",-1))])])])):g("",!0)])],64))}}),Qe=V(Me,[["__scopeId","data-v-3a5ef083"]]);export{Qe as default};
