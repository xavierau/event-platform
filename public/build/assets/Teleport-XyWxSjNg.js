import{g as w,i as te}from"./useForwardPropsEmits-BFEAxE1x.js";import{j as ne,i as A,o as se,h as oe,f as re,t as ie,k as K,b as ae,l as ue}from"./index-Bhpe8JcZ.js";import{s as g,d as N,I as $,G as P,Y as C,h as x,o as W,w as z,K as R,e as O,a5 as L,c as S,N as ce,D as V,x as le,i as de,am as fe}from"./app-BlriFIqe.js";import{u as q}from"./useForwardExpose-CTSY01TP.js";import{P as G}from"./index-n8QSRl2p.js";const Ke="menu.itemSelect",U=["Enter"," "],ve=["ArrowDown","PageUp","Home"],pe=["ArrowUp","PageDown","End"],Ue=[...ve,...pe];[...U],[...U];function je(e){return e?"open":"closed"}function He(e){const t=w();for(const n of e)if(n===t||(n.focus(),w()!==t))return}function ye(e,t){const{x:n,y:s}=e;let i=!1;for(let r=0,l=t.length-1;r<t.length;l=r++){const f=t[r].x,d=t[r].y,m=t[l].x,a=t[l].y;d>s!=a>s&&n<(m-f)*(s-d)/(a-d)+f&&(i=!i)}return i}function Ye(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return ye(n,t)}function $e(e){return e.pointerType==="mouse"}const me=ne(()=>g([]));function Ee(){const e=me();return{add(t){const n=e.value[0];t!==n&&(n==null||n.pause()),e.value=j(e.value,t),e.value.unshift(t)},remove(t){var n;e.value=j(e.value,t),(n=e.value[0])==null||n.resume()}}}function j(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function he(e){return e.filter(t=>t.tagName!=="A")}const _="focusScope.autoFocusOnMount",k="focusScope.autoFocusOnUnmount",H={bubbles:!1,cancelable:!0};function be(e,{select:t=!1}={}){const n=w();for(const s of e)if(b(s,{select:t}),w()!==n)return!0}function we(e){const t=X(e),n=Y(t,e),s=Y(t.reverse(),e);return[n,s]}function X(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Y(e,t){for(const n of e)if(!ge(n,{upTo:t}))return n}function ge(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Oe(e){return e instanceof HTMLInputElement&&"select"in e}function b(e,{select:t=!1}={}){if(e&&e.focus){const n=w();e.focus({preventScroll:!0}),e!==n&&Oe(e)&&t&&e.select()}}const ze=N({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,s=t,{currentRef:i,currentElement:r}=q(),l=g(null),f=Ee(),d=$({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});P(a=>{if(!A)return;const o=r.value;if(!n.trapped)return;function c(v){if(d.paused||!o)return;const h=v.target;o.contains(h)?l.value=h:b(l.value,{select:!0})}function y(v){if(d.paused||!o)return;const h=v.relatedTarget;h!==null&&(o.contains(h)||b(l.value,{select:!0}))}function u(v){o.contains(l.value)||b(o)}document.addEventListener("focusin",c),document.addEventListener("focusout",y);const p=new MutationObserver(u);o&&p.observe(o,{childList:!0,subtree:!0}),a(()=>{document.removeEventListener("focusin",c),document.removeEventListener("focusout",y),p.disconnect()})}),P(async a=>{const o=r.value;if(await C(),!o)return;f.add(d);const c=w();if(!o.contains(c)){const u=new CustomEvent(_,H);o.addEventListener(_,p=>s("mountAutoFocus",p)),o.dispatchEvent(u),u.defaultPrevented||(be(he(X(o)),{select:!0}),w()===c&&b(o))}a(()=>{o.removeEventListener(_,v=>s("mountAutoFocus",v));const u=new CustomEvent(k,H),p=v=>{s("unmountAutoFocus",v)};o.addEventListener(k,p),o.dispatchEvent(u),setTimeout(()=>{u.defaultPrevented||b(c??document.body,{select:!0}),o.removeEventListener(k,p),f.remove(d)},0)})});function m(a){if(!n.loop&&!n.trapped||d.paused)return;const o=a.key==="Tab"&&!a.altKey&&!a.ctrlKey&&!a.metaKey,c=w();if(o&&c){const y=a.currentTarget,[u,p]=we(y);u&&p?!a.shiftKey&&c===p?(a.preventDefault(),n.loop&&b(u,{select:!0})):a.shiftKey&&c===u&&(a.preventDefault(),n.loop&&b(p,{select:!0})):c===y&&a.preventDefault()}}return(a,o)=>(W(),x(O(G),{ref_key:"currentRef",ref:i,tabindex:"-1","as-child":a.asChild,as:a.as,onKeydown:m},{default:z(()=>[R(a.$slots,"default")]),_:3},8,["as-child","as"]))}});function J(e,t,n){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),s.dispatchEvent(i)}const Se="dismissableLayer.pointerDownOutside",De="dismissableLayer.focusOutside";function Q(e,t){const n=t.closest("[data-dismissable-layer]"),s=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),i=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(s===n||i.indexOf(s)<i.indexOf(n)))}function Pe(e,t,n=!0){var l;const s=((l=t==null?void 0:t.value)==null?void 0:l.ownerDocument)??(globalThis==null?void 0:globalThis.document),i=g(!1),r=g(()=>{});return P(f=>{if(!A||!L(n))return;const d=async a=>{const o=a.target;if(!(!(t!=null&&t.value)||!o)){if(Q(t.value,o)){i.value=!1;return}if(a.target&&!i.value){let c=function(){J(Se,e,y)};const y={originalEvent:a};a.pointerType==="touch"?(s.removeEventListener("click",r.value),r.value=c,s.addEventListener("click",r.value,{once:!0})):c()}else s.removeEventListener("click",r.value);i.value=!1}},m=window.setTimeout(()=>{s.addEventListener("pointerdown",d)},0);f(()=>{window.clearTimeout(m),s.removeEventListener("pointerdown",d),s.removeEventListener("click",r.value)})}),{onPointerDownCapture:()=>{L(n)&&(i.value=!0)}}}function Le(e,t,n=!0){var r;const s=((r=t==null?void 0:t.value)==null?void 0:r.ownerDocument)??(globalThis==null?void 0:globalThis.document),i=g(!1);return P(l=>{if(!A||!L(n))return;const f=async d=>{if(!(t!=null&&t.value))return;await C(),await C();const m=d.target;!t.value||!m||Q(t.value,m)||d.target&&!i.value&&J(De,e,{originalEvent:d})};s.addEventListener("focusin",f),l(()=>s.removeEventListener("focusin",f))}),{onFocusCapture:()=>{L(n)&&(i.value=!0)},onBlurCapture:()=>{L(n)&&(i.value=!1)}}}const E=$({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ve=N({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,s=t,{forwardRef:i,currentElement:r}=q(),l=S(()=>{var u;return((u=r.value)==null?void 0:u.ownerDocument)??globalThis.document}),f=S(()=>E.layersRoot),d=S(()=>r.value?Array.from(f.value).indexOf(r.value):-1),m=S(()=>E.layersWithOutsidePointerEventsDisabled.size>0),a=S(()=>{const u=Array.from(f.value),[p]=[...E.layersWithOutsidePointerEventsDisabled].slice(-1),v=u.indexOf(p);return d.value>=v}),o=Pe(async u=>{const p=[...E.branches].some(v=>v==null?void 0:v.contains(u.target));!a.value||p||(s("pointerDownOutside",u),s("interactOutside",u),await C(),u.defaultPrevented||s("dismiss"))},r),c=Le(u=>{[...E.branches].some(v=>v==null?void 0:v.contains(u.target))||(s("focusOutside",u),s("interactOutside",u),u.defaultPrevented||s("dismiss"))},r);se("Escape",u=>{d.value===f.value.size-1&&(s("escapeKeyDown",u),u.defaultPrevented||s("dismiss"))});let y;return P(u=>{r.value&&(n.disableOutsidePointerEvents&&(E.layersWithOutsidePointerEventsDisabled.size===0&&(y=l.value.body.style.pointerEvents,l.value.body.style.pointerEvents="none"),E.layersWithOutsidePointerEventsDisabled.add(r.value)),f.value.add(r.value),u(()=>{n.disableOutsidePointerEvents&&E.layersWithOutsidePointerEventsDisabled.size===1&&(l.value.body.style.pointerEvents=y)}))}),P(u=>{u(()=>{r.value&&(f.value.delete(r.value),E.layersWithOutsidePointerEventsDisabled.delete(r.value))})}),(u,p)=>(W(),x(O(G),{ref:O(i),"as-child":u.asChild,as:u.as,"data-dismissable-layer":"",style:ce({pointerEvents:m.value?a.value?"auto":"none":void 0}),onFocusCapture:O(c).onFocusCapture,onBlurCapture:O(c).onBlurCapture,onPointerdownCapture:O(o).onPointerDownCapture},{default:z(()=>[R(u.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}});var Ce=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},D=new WeakMap,T=new WeakMap,F={},I=0,Z=function(e){return e&&(e.host||Z(e.parentNode))},Te=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=Z(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Fe=function(e,t,n,s){var i=Te(t,Array.isArray(e)?e:[e]);F[n]||(F[n]=new WeakMap);var r=F[n],l=[],f=new Set,d=new Set(i),m=function(o){!o||f.has(o)||(f.add(o),m(o.parentNode))};i.forEach(m);var a=function(o){!o||d.has(o)||Array.prototype.forEach.call(o.children,function(c){if(f.has(c))a(c);else try{var y=c.getAttribute(s),u=y!==null&&y!=="false",p=(D.get(c)||0)+1,v=(r.get(c)||0)+1;D.set(c,p),r.set(c,v),l.push(c),p===1&&u&&T.set(c,!0),v===1&&c.setAttribute(n,"true"),u||c.setAttribute(s,"true")}catch(h){console.error("aria-hidden: cannot operate on ",c,h)}})};return a(t),f.clear(),I++,function(){l.forEach(function(o){var c=D.get(o)-1,y=r.get(o)-1;D.set(o,c),r.set(o,y),c||(T.has(o)||o.removeAttribute(s),T.delete(o)),y||o.removeAttribute(n)}),I--,I||(D=new WeakMap,D=new WeakMap,T=new WeakMap,F={})}},Ae=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=Ce(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),Fe(s,i,n,"aria-hidden")):function(){return null}};function qe(e){let t;V(()=>oe(e),n=>{n?t=Ae(n):t&&t()}),le(()=>{t&&t()})}function B(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function M(e,t,n=".",s){if(!B(t))return M(e,{},n,s);const i=Object.assign({},t);for(const r in e){if(r==="__proto__"||r==="constructor")continue;const l=e[r];l!=null&&(s&&s(i,r,l,n)||(Array.isArray(l)&&Array.isArray(i[r])?i[r]=[...l,...i[r]]:B(l)&&B(i[r])?i[r]=M(l,i[r],(n?`${n}.`:"")+r.toString(),s):i[r]=l))}return i}function _e(e){return(...t)=>t.reduce((n,s)=>M(n,s,"",e),{})}const ke=_e(),Ie=re(()=>{const e=g(new Map),t=g(),n=S(()=>{for(const l of e.value.values())if(l)return!0;return!1}),s=te({scrollBody:g(!0)});let i=null;const r=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",K&&(i==null||i()),t.value=void 0};return V(n,(l,f)=>{var o;if(!A)return;if(!l){f&&r();return}t.value===void 0&&(t.value=document.body.style.overflow);const d=window.innerWidth-document.documentElement.clientWidth,m={padding:d,margin:0},a=(o=s.scrollBody)!=null&&o.value?typeof s.scrollBody.value=="object"?ke({padding:s.scrollBody.value.padding===!0?d:s.scrollBody.value.padding,margin:s.scrollBody.value.margin===!0?d:s.scrollBody.value.margin},m):m:{padding:0,margin:0};d>0&&(document.body.style.paddingRight=typeof a.padding=="number"?`${a.padding}px`:String(a.padding),document.body.style.marginRight=typeof a.margin=="number"?`${a.margin}px`:String(a.margin),document.documentElement.style.setProperty("--scrollbar-width",`${d}px`),document.body.style.overflow="hidden"),K&&(i=ae(document,"touchmove",c=>Be(c),{passive:!1})),C(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function Ge(e){const t=Math.random().toString(36).substring(2,7),n=Ie();n.value.set(t,e??!1);const s=S({get:()=>n.value.get(t)??!1,set:i=>n.value.set(t,i)});return ie(()=>{n.value.delete(t)}),s}function ee(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:ee(n)}}function Be(e){const t=e||window.event,n=t.target;return n instanceof Element&&ee(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}const Xe=N({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(e){const t=ue();return(n,s)=>O(t)||n.forceMount?(W(),x(fe,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[R(n.$slots,"default")],8,["to","disabled","defer"])):de("",!0)}});export{Ue as F,Ke as I,pe as L,U as S,Ve as _,Xe as a,ze as b,$e as c,qe as d,He as f,je as g,J as h,Ye as i,Ge as u};
