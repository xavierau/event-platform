import{d as C,n as h,c as V,C as U,a,o as d,b as p,e as r,m as z,w as c,f as t,P as f,g as y,p as M,k as n,i,j as u,F as b,r as D,t as l,l as E,v as m,A as x}from"./app-_LMAJuVE.js";import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-BmACvFIT.js";import{g as B}from"./i18n-B6-dBLr6.js";import{_ as N}from"./PageHeader.vue_vue_type_script_setup_true_lang-B0uxv-vX.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CyzG3B7Q.js";import"./index-DskH3tKn.js";import"./useForwardPropsEmits-mgxhVe2d.js";import"./useForwardExpose-DvgX0o-v.js";import"./useFocusGuards-_TrNIUuM.js";import"./Teleport-sQDXNy6f.js";import"./VisuallyHidden-BEO5d0G6.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-43_aYyr-.js";import"./RovingFocusGroup-DvsoFtKQ.js";import"./createLucideIcon-BM0PkPLY.js";import"./x-BMJwbN6X.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CmZdlobI.js";import"./useToast-BEKNO1yO.js";const L={class:"py-12"},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},T={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg"},F={class:"p-6 lg:p-8 bg-white dark:bg-gray-800 dark:bg-gradient-to-bl dark:from-gray-700/50 dark:via-transparent border-b border-gray-200 dark:border-gray-700"},$={class:"mt-8 max-w-4xl"},I={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},O={class:"space-y-6"},R=["value"],j={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},q={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},G={class:"mt-1 flex rounded-md shadow-sm"},H={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},J={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},K={class:"space-y-6"},Q={class:"mt-2 space-y-2"},W={class:"inline-flex items-center"},X={class:"inline-flex items-center"},Y={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Z={class:"mt-2 space-y-2"},ee={class:"inline-flex items-center"},te={class:"inline-flex items-center"},re={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},oe={for:"discount_value",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},se={key:0,class:"text-gray-500"},ae={key:1,class:"text-gray-500"},de={class:"mt-1 relative rounded-md shadow-sm"},ie=["placeholder","max"],ne={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},le={key:1,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ue={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},me={key:1,class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},ge={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},pe={class:"border-t border-gray-200 dark:border-gray-700 pt-6"},ce={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},ye={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},xe={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},fe={class:"border-t border-gray-200 dark:border-gray-700 pt-6"},be={class:"flex justify-end space-x-3"},ke=["disabled"],ve={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_e=C({__name:"Create",props:{organizers:{}},setup(we){const k=h(),v=V(()=>k.props.locale),o=U({organizer_id:"",name:"",description:"",code:"",type:"single_use",discount_value:null,discount_type:"percentage",max_issuance:null,valid_from:"",expires_at:""}),_=()=>{const g="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let s=0;s<8;s++)e+=g.charAt(Math.floor(Math.random()*g.length));o.code=e},w=()=>{o.post(route("admin.coupons.store"),{onSuccess:()=>{}})};return(g,e)=>(d(),a(b,null,[p(r(z),{title:"Create Coupon"}),p(A,null,{default:c(()=>[t("div",L,[t("div",P,[t("div",T,[t("div",F,[p(N,{title:"Create New Coupon",subtitle:"Create a new coupon template for your organization"},{actions:c(()=>[p(r(f),{href:g.route("admin.coupons.index"),class:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-500 active:bg-gray-700 focus:outline-none focus:border-gray-700 focus:ring focus:ring-gray-200 disabled:opacity-25 transition"},{default:c(()=>e[12]||(e[12]=[y(" Back to Coupons ")])),_:1},8,["href"])]),_:1}),t("div",$,[t("form",{onSubmit:M(w,["prevent"]),class:"space-y-6"},[t("div",I,[t("div",O,[e[19]||(e[19]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Basic Information",-1)),t("div",null,[e[14]||(e[14]=t("label",{for:"organizer_id",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Organizer *",-1)),n(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>r(o).organizer_id=s),id:"organizer_id",class:u(["mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"border-red-500":r(o).errors.organizer_id}])},[e[13]||(e[13]=t("option",{value:""},"Select an organizer",-1)),(d(!0),a(b,null,D(g.organizers,s=>(d(),a("option",{key:s.id,value:s.id},l(r(B)(s.name,v.value)),9,R))),128))],2),[[E,r(o).organizer_id]]),r(o).errors.organizer_id?(d(),a("p",j,l(r(o).errors.organizer_id),1)):i("",!0)]),t("div",null,[e[15]||(e[15]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Coupon Name *",-1)),n(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=s=>r(o).name=s),id:"name",class:u(["mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"border-red-500":r(o).errors.name}]),placeholder:"Enter coupon name"},null,2),[[m,r(o).name]]),r(o).errors.name?(d(),a("p",q,l(r(o).errors.name),1)):i("",!0)]),t("div",null,[e[16]||(e[16]=t("label",{for:"code",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Coupon Code *",-1)),t("div",G,[n(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=s=>r(o).code=s),id:"code",class:u(["flex-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-l-md focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"border-red-500":r(o).errors.code}]),placeholder:"Enter unique code"},null,2),[[m,r(o).code]]),t("button",{type:"button",onClick:_,class:"inline-flex items-center px-3 py-2 border border-l-0 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-600 text-gray-500 dark:text-gray-300 text-sm rounded-r-md hover:bg-gray-100 dark:hover:bg-gray-500"}," Generate ")]),r(o).errors.code?(d(),a("p",H,l(r(o).errors.code),1)):i("",!0),e[17]||(e[17]=t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Must be unique across all coupons",-1))]),t("div",null,[e[18]||(e[18]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Description",-1)),n(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=s=>r(o).description=s),id:"description",rows:"3",class:u(["mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"border-red-500":r(o).errors.description}]),placeholder:"Optional description for the coupon"},null,2),[[m,r(o).description]]),r(o).errors.description?(d(),a("p",J,l(r(o).errors.description),1)):i("",!0)])]),t("div",K,[e[31]||(e[31]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Discount Configuration",-1)),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Coupon Type *",-1)),t("div",Q,[t("label",W,[n(t("input",{type:"radio","onUpdate:modelValue":e[4]||(e[4]=s=>r(o).type=s),value:"single_use",class:"form-radio text-indigo-600"},null,512),[[x,r(o).type]]),e[20]||(e[20]=t("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Single Use - Each coupon can only be used once",-1))]),t("label",X,[n(t("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=s=>r(o).type=s),value:"multi_use",class:"form-radio text-indigo-600"},null,512),[[x,r(o).type]]),e[21]||(e[21]=t("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Multi Use - Each coupon can be used multiple times",-1))])]),r(o).errors.type?(d(),a("p",Y,l(r(o).errors.type),1)):i("",!0)]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Discount Type *",-1)),t("div",Z,[t("label",ee,[n(t("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=s=>r(o).discount_type=s),value:"percentage",class:"form-radio text-indigo-600"},null,512),[[x,r(o).discount_type]]),e[23]||(e[23]=t("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Percentage - Discount as a percentage",-1))]),t("label",te,[n(t("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=s=>r(o).discount_type=s),value:"fixed",class:"form-radio text-indigo-600"},null,512),[[x,r(o).discount_type]]),e[24]||(e[24]=t("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Fixed Amount - Discount as a fixed amount",-1))])]),r(o).errors.discount_type?(d(),a("p",re,l(r(o).errors.discount_type),1)):i("",!0)]),t("div",null,[t("label",oe,[e[26]||(e[26]=y(" Discount Value * ")),r(o).discount_type==="percentage"?(d(),a("span",se,"(Percentage 1-100)")):r(o).discount_type==="fixed"?(d(),a("span",ae,"(Amount in cents)")):i("",!0)]),t("div",de,[n(t("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=s=>r(o).discount_value=s),id:"discount_value",class:u(["block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"border-red-500":r(o).errors.discount_value}]),placeholder:r(o).discount_type==="percentage"?"e.g., 10 for 10%":"e.g., 500 for $5.00",min:1,max:r(o).discount_type==="percentage"?100:void 0},null,10,ie),[[m,r(o).discount_value,void 0,{number:!0}]]),r(o).discount_type==="percentage"?(d(),a("div",ne,e[27]||(e[27]=[t("span",{class:"text-gray-500 sm:text-sm"},"%",-1)]))):r(o).discount_type==="fixed"?(d(),a("div",le,e[28]||(e[28]=[t("span",{class:"text-gray-500 sm:text-sm"},"$",-1)]))):i("",!0)]),r(o).errors.discount_value?(d(),a("p",ue,l(r(o).errors.discount_value),1)):i("",!0),r(o).discount_type==="fixed"?(d(),a("p",me," Enter amount in cents (e.g., 500 = $5.00) ")):i("",!0)]),t("div",null,[e[29]||(e[29]=t("label",{for:"max_issuance",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Maximum Issuance",-1)),n(t("input",{type:"number","onUpdate:modelValue":e[9]||(e[9]=s=>r(o).max_issuance=s),id:"max_issuance",class:u(["mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"border-red-500":r(o).errors.max_issuance}]),placeholder:"Leave empty for unlimited",min:"1"},null,2),[[m,r(o).max_issuance,void 0,{number:!0}]]),r(o).errors.max_issuance?(d(),a("p",ge,l(r(o).errors.max_issuance),1)):i("",!0),e[30]||(e[30]=t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Maximum number of times this coupon can be issued to users",-1))])])]),t("div",pe,[e[36]||(e[36]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Validity Period",-1)),t("div",ce,[t("div",null,[e[32]||(e[32]=t("label",{for:"valid_from",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Valid From",-1)),n(t("input",{type:"datetime-local","onUpdate:modelValue":e[10]||(e[10]=s=>r(o).valid_from=s),id:"valid_from",class:u(["mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"border-red-500":r(o).errors.valid_from}])},null,2),[[m,r(o).valid_from]]),r(o).errors.valid_from?(d(),a("p",ye,l(r(o).errors.valid_from),1)):i("",!0),e[33]||(e[33]=t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Leave empty if valid immediately",-1))]),t("div",null,[e[34]||(e[34]=t("label",{for:"expires_at",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Expires At",-1)),n(t("input",{type:"datetime-local","onUpdate:modelValue":e[11]||(e[11]=s=>r(o).expires_at=s),id:"expires_at",class:u(["mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"border-red-500":r(o).errors.expires_at}])},null,2),[[m,r(o).expires_at]]),r(o).errors.expires_at?(d(),a("p",xe,l(r(o).errors.expires_at),1)):i("",!0),e[35]||(e[35]=t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Leave empty if never expires",-1))])])]),t("div",fe,[t("div",be,[p(r(f),{href:g.route("admin.coupons.index"),class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:c(()=>e[37]||(e[37]=[y(" Cancel ")])),_:1},8,["href"]),t("button",{type:"submit",disabled:r(o).processing,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"},[r(o).processing?(d(),a("svg",ve,e[38]||(e[38]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):i("",!0),y(" "+l(r(o).processing?"Creating...":"Create Coupon"),1)],8,ke)])])],32)])])])])])]),_:1})],64))}}),Oe=S(_e,[["__scopeId","data-v-6a8784d7"]]);export{Oe as default};
