import{d as M,s as $,c as p,n as j,a as i,o as l,b as x,f as e,e as f,m as B,w as N,g as h,P as Y,t as n,j as d,F as v,r as A}from"./app-_LMAJuVE.js";import{d as w}from"./dayjs.min-BYdALWVn.js";import{u as D}from"./utc-D2B1stg6.js";import{_ as E}from"./FrontendFooter.vue_vue_type_script_setup_true_lang-DTWjt7Az.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"min-h-screen bg-gray-100 dark:bg-gray-900"},z={class:"sticky top-0 z-50 border-b bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800"},K={class:"relative container mx-auto flex items-center p-4"},O={class:"container mx-auto px-4 py-6 pb-24"},V={class:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2"},H={class:"rounded-lg bg-white p-6 text-center shadow dark:bg-gray-800"},I={class:"mt-1 text-3xl font-bold text-indigo-600 dark:text-indigo-400"},U={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},G={class:"text-xs text-gray-500 dark:text-gray-400"},J={class:"rounded-lg bg-white p-6 text-center shadow dark:bg-gray-800"},Q={class:"mt-1 text-3xl font-bold text-red-600 dark:text-red-400"},R={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},X={class:"text-xs text-gray-500 dark:text-gray-400"},Z={class:"mb-6 flex flex-col items-start justify-between sm:flex-row sm:items-center"},tt={class:"flex flex-wrap space-x-2 text-sm"},et={key:0,class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},at={class:"divide-y divide-gray-200 dark:divide-gray-700"},st={class:"flex items-center justify-between"},rt={class:"min-w-0 flex-1"},nt={class:"truncate text-sm font-medium text-indigo-600 dark:text-indigo-400"},ot={class:"truncate text-xs text-gray-500 dark:text-gray-400"},it={class:"ml-4 flex-shrink-0 text-right"},lt={class:"text-xs"},dt={class:"text-xs text-gray-500 dark:text-gray-400"},gt={key:1,class:"rounded-lg bg-white py-12 text-center shadow dark:bg-gray-800"},ct={class:"text-gray-600 dark:text-gray-300"},pt={key:0},xt={key:1},yt=M({__name:"MyWallet",props:{balance:{type:Object,required:!0},transactions:{type:Object,required:!0},code:{type:String,required:!0}},setup(C){w.extend(D);const s=C,o=$("all"),y=p(()=>{var r;if(!((r=s.transactions)!=null&&r.data))return[];switch(o.value){case"points":return s.transactions.data.filter(t=>t.transaction_type.includes("_points")&&!t.transaction_type.includes("kill_points"));case"kill_points":return s.transactions.data.filter(t=>t.transaction_type.includes("_kill_points"));case"earned":return s.transactions.data.filter(t=>t.transaction_type.startsWith("earn_")||t.transaction_type==="transfer_in"||t.transaction_type==="bonus"||t.transaction_type==="refund");case"spent":return s.transactions.data.filter(t=>t.transaction_type.startsWith("spend_")||t.transaction_type==="transfer_out"||t.transaction_type==="penalty"||t.transaction_type==="membership_purchase");case"all":default:return s.transactions.data}}),S=j(),T=p(()=>S.props.auth);p(()=>{var r;return(r=T.value.user)==null?void 0:r.membership_level});function g(r){o.value=r}function W(r){return r?w(r).utc().format("MMM DD, YYYY h:mm A"):"N/A"}function P(r,t){return`${t.startsWith("earn_")||t==="transfer_in"||t==="bonus"||t==="refund"?"+":"-"} ${Math.abs(r)}`}function L(r){return r.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())}return console.log("Wallet Page Loaded",{balance:s.balance,transactions:s.transactions,code:s.code}),(r,t)=>{var c,u,_,m,b,k;return l(),i(v,null,[x(f(B),{title:"My Wallet"}),e("div",q,[e("header",z,[e("div",K,[x(f(Y),{href:"/",class:"absolute left-4 text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:N(()=>t[5]||(t[5]=[h(" â† Back ")])),_:1}),t[6]||(t[6]=e("h1",{class:"flex-1 text-center text-xl font-semibold text-gray-900 dark:text-gray-100"},"My Wallet",-1))])]),e("main",O,[e("section",V,[e("div",H,[t[7]||(t[7]=e("h2",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Points Balance",-1)),e("p",I,n(((c=s.balance.points_balance)==null?void 0:c.toLocaleString())||0),1),e("p",U," Total Earned: "+n(((u=s.balance.total_points_earned)==null?void 0:u.toLocaleString())||0),1),e("p",G,"Total Spent: "+n(((_=s.balance.total_points_spent)==null?void 0:_.toLocaleString())||0),1)]),e("div",J,[t[8]||(t[8]=e("h2",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Kill Points Balance",-1)),e("p",Q,n(((m=s.balance.kill_points_balance)==null?void 0:m.toLocaleString())||0),1),e("p",R," Total Earned: "+n(((b=s.balance.total_kill_points_earned)==null?void 0:b.toLocaleString())||0),1),e("p",X," Total Spent: "+n(((k=s.balance.total_kill_points_spent)==null?void 0:k.toLocaleString())||0),1)])]),t[12]||(t[12]=e("section",{class:"mb-8 rounded-lg bg-white p-6 shadow dark:bg-gray-800"},[e("h2",{class:"mb-4 text-xl font-semibold text-gray-800 dark:text-gray-200"},"Top-up Points"),e("p",{class:"text-gray-600 dark:text-gray-300"},"This section will allow users to purchase more points. (Coming Soon)")],-1)),e("section",null,[e("div",Z,[t[9]||(t[9]=e("h2",{class:"mb-4 text-2xl font-semibold text-gray-800 sm:mb-0 dark:text-gray-200"},"Transaction History",-1)),e("div",tt,[e("button",{onClick:t[0]||(t[0]=a=>g("all")),class:d(["rounded-full px-3 py-1 font-medium",o.value==="all"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-700 dark:text-indigo-200":"text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700"])}," All ",2),e("button",{onClick:t[1]||(t[1]=a=>g("points")),class:d(["rounded-full px-3 py-1 font-medium",o.value==="points"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-700 dark:text-indigo-200":"text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700"])}," Points ",2),e("button",{onClick:t[2]||(t[2]=a=>g("kill_points")),class:d(["rounded-full px-3 py-1 font-medium",o.value==="kill_points"?"bg-red-100 text-red-700 dark:bg-red-700 dark:text-red-200":"text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700"])}," Kill Points ",2),e("button",{onClick:t[3]||(t[3]=a=>g("earned")),class:d(["rounded-full px-3 py-1 font-medium",o.value==="earned"?"bg-green-100 text-green-700 dark:bg-green-700 dark:text-green-200":"text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700"])}," Earned ",2),e("button",{onClick:t[4]||(t[4]=a=>g("spent")),class:d(["rounded-full px-3 py-1 font-medium",o.value==="spent"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-700 dark:text-yellow-200":"text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700"])}," Spent ",2)])]),y.value.length>0?(l(),i("div",et,[e("ul",at,[(l(!0),i(v,null,A(y.value,a=>(l(),i("li",{key:a.id,class:"px-4 py-4 transition-colors duration-150 hover:bg-gray-50 sm:px-6 dark:hover:bg-gray-700/50"},[e("div",st,[e("div",rt,[e("p",nt,n(L(a.transaction_type)),1),e("p",ot,n(a.description),1)]),e("div",it,[e("p",{class:d(["text-sm font-semibold",{"text-green-600 dark:text-green-400":a.transaction_type.startsWith("earn_")||a.transaction_type==="transfer_in"||a.transaction_type==="bonus"||a.transaction_type==="refund","text-red-600 dark:text-red-400":a.transaction_type.startsWith("spend_")||a.transaction_type==="transfer_out"||a.transaction_type==="penalty"||a.transaction_type==="membership_purchase","text-gray-700 dark:text-gray-300":!(a.transaction_type.startsWith("earn_")||a.transaction_type.startsWith("spend_")||a.transaction_type.includes("transfer"))}])},[h(n(P(a.amount,a.transaction_type))+" ",1),e("span",lt,n(a.transaction_type.includes("_kill_points")?"KP":"Pts"),1)],2),e("p",dt,n(W(a.created_at)),1)])])]))),128))])])):(l(),i("div",gt,[t[10]||(t[10]=e("div",{class:"mb-4 text-6xl"},"ðŸ’³",-1)),t[11]||(t[11]=e("h3",{class:"mb-2 text-xl font-semibold text-gray-900 dark:text-gray-100"},"No transactions found",-1)),e("p",ct,[o.value!=="all"?(l(),i("span",pt,"No transactions match the current filter.")):(l(),i("span",xt,"You haven't made any transactions yet."))])]))]),t[13]||(t[13]=e("section",{class:"mt-8 rounded-lg bg-white p-6 shadow dark:bg-gray-800"},[e("h2",{class:"mb-4 text-xl font-semibold text-gray-800 dark:text-gray-200"},"Spending Overview"),e("p",{class:"text-gray-600 dark:text-gray-300"},"Charts and graphs visualizing spending patterns will be displayed here. (Coming Soon)")],-1))]),x(E)])],64)}}}),ft=F(yt,[["__scopeId","data-v-4b904b6e"]]);export{ft as default};
