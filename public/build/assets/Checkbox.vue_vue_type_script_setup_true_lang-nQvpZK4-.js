import{P as F,c as T}from"./index-5oMWKzEe.js";import{c as R,b as E,P,a as A}from"./useForwardPropsEmits-ZZ3RNL7N.js";import{d as V,c as b,z as M,x as j,h,o as y,w as p,b as k,e as a,J as w,X as N,i as z,L as S,Z as D,p as L,y as O}from"./app-rodjFhkq.js";import{a as J}from"./index-DeeF04vq.js";import{u as q}from"./useForwardExpose-DRsK3r8k.js";import{i as I,a as B,C as U}from"./check-CWqKUpQU.js";import{u as X}from"./useFormControl-B_C8nl5n.js";import{i as Z,a as H,g as Q,w as W,f as Y}from"./RovingFocusGroup-DAn6leQC.js";import{_ as G}from"./VisuallyHiddenInput-BeZoB2RL.js";function K(l,r){return I(l)?!1:Array.isArray(l)?l.some(e=>B(e,r)):B(l,r)}const[ee,ve]=R("CheckboxGroupRoot");function g(l){return l==="indeterminate"}function _(l){return g(l)?"indeterminate":l?"checked":"unchecked"}const ae=V({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(l){const r=l,e=Z(),d=E(),c=b(()=>r.tabStopId||d),v=b(()=>e.currentTabStopId.value===c.value),{getItems:s,CollectionItem:u}=H();M(()=>{r.focusable&&e.onFocusableItemAdd()}),j(()=>{r.focusable&&e.onFocusableItemRemove()});function m(t){if(t.key==="Tab"&&t.shiftKey){e.onItemShiftTab();return}if(t.target!==t.currentTarget)return;const i=Q(t,e.orientation.value,e.dir.value);if(i!==void 0){if(t.metaKey||t.ctrlKey||t.altKey||!r.allowShiftKey&&t.shiftKey)return;t.preventDefault();let n=[...s().map(f=>f.ref).filter(f=>f.dataset.disabled!=="")];if(i==="last")n.reverse();else if(i==="prev"||i==="next"){i==="prev"&&n.reverse();const f=n.indexOf(t.currentTarget);n=e.loop.value?W(n,f+1):n.slice(f+1)}N(()=>Y(n))}}return(t,i)=>(y(),h(a(u),null,{default:p(()=>[k(a(F),{tabindex:v.value?0:-1,"data-orientation":a(e).orientation.value,"data-active":t.active?"":void 0,"data-disabled":t.focusable?void 0:"",as:t.as,"as-child":t.asChild,onMousedown:i[0]||(i[0]=n=>{t.focusable?a(e).onItemFocus(c.value):n.preventDefault()}),onFocus:i[1]||(i[1]=n=>a(e).onItemFocus(c.value)),onKeydown:m},{default:p(()=>[w(t.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[te,oe]=R("CheckboxRoot"),se=V({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:r}){const e=l,d=r,{forwardRef:c,currentElement:v}=q(),s=ee(null),u=J(e,"modelValue",d,{defaultValue:e.defaultValue,passive:e.modelValue===void 0}),m=b(()=>(s==null?void 0:s.disabled.value)||e.disabled),t=b(()=>I(s==null?void 0:s.modelValue.value)?u.value==="indeterminate"?"indeterminate":u.value:K(s.modelValue.value,e.value));function i(){if(I(s==null?void 0:s.modelValue.value))u.value=g(u.value)?!0:!u.value;else{const o=[...s.modelValue.value||[]];if(K(o,e.value)){const x=o.findIndex(C=>B(C,e.value));o.splice(x,1)}else o.push(e.value);s.modelValue.value=o}}const n=X(v),f=b(()=>{var o;return e.id&&v.value?(o=document.querySelector(`[for="${e.id}"]`))==null?void 0:o.innerText:void 0});return oe({disabled:m,state:t}),(o,x)=>{var C,$;return y(),h(O((C=a(s))!=null&&C.rovingFocus.value?a(ae):a(F)),S(o.$attrs,{id:o.id,ref:a(c),role:"checkbox","as-child":o.asChild,as:o.as,type:o.as==="button"?"button":void 0,"aria-checked":a(g)(t.value)?"mixed":t.value,"aria-required":o.required,"aria-label":o.$attrs["aria-label"]||f.value,"data-state":a(_)(t.value),"data-disabled":m.value?"":void 0,disabled:m.value,focusable:($=a(s))!=null&&$.rovingFocus.value?!m.value:void 0,onKeydown:D(L(()=>{},["prevent"]),["enter"]),onClick:i}),{default:p(()=>[w(o.$slots,"default",{modelValue:a(u),state:t.value}),a(n)&&o.name&&!a(s)?(y(),h(a(G),{key:0,type:"checkbox",checked:!!t.value,name:o.name,value:o.value,disabled:m.value,required:o.required},null,8,["checked","name","value","disabled","required"])):z("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),le=V({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(l){const{forwardRef:r}=q(),e=te();return(d,c)=>(y(),h(a(P),{present:d.forceMount||a(g)(a(e).state.value)||a(e).state.value===!0},{default:p(()=>[k(a(F),S({ref:a(r),"data-state":a(_)(a(e).state.value),"data-disabled":a(e).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":d.asChild,as:d.as},d.$attrs),{default:p(()=>[w(d.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),be=V({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(l,{emit:r}){const e=l,d=r,c=b(()=>{const{class:s,...u}=e;return u}),v=A(c,d);return(s,u)=>(y(),h(a(se),S({"data-slot":"checkbox"},a(v),{class:a(T)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e.class)}),{default:p(()=>[k(a(le),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:p(()=>[w(s.$slots,"default",{},()=>[k(a(U),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}});export{be as _};
