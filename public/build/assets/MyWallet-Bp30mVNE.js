import{d as w,s as C,c as M,a as o,o as i,b as c,f as e,e as p,m as W,w as u,g as y,P as m,j as d,F as b,r as $,t as g}from"./app-rodjFhkq.js";import{d as _}from"./dayjs.min-BKlhzyn_.js";import{u as j}from"./utc-DWO15TI-.js";import{_ as P}from"./BottomNavbar.vue_vue_type_script_setup_true_lang-C5iva_Ee.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"min-h-screen bg-gray-100 dark:bg-gray-900"},q={class:"sticky top-0 z-50 border-b bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800"},D={class:"relative container mx-auto flex items-center p-4"},S={class:"container mx-auto px-4 py-6 pb-24"},Y={class:"mb-8 rounded-lg bg-white p-6 shadow dark:bg-gray-800"},z={class:"flex items-center justify-between"},A={class:"mt-4 flex items-center justify-center"},B=["src"],F={class:"mb-6 flex flex-col items-start justify-between sm:flex-row sm:items-center"},V={class:"flex flex-wrap space-x-2 text-sm"},L={key:0,class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},O={class:"divide-y divide-gray-200 dark:divide-gray-700"},E={class:"flex items-center justify-between"},I={class:"min-w-0 flex-1"},K={class:"truncate text-sm font-medium text-indigo-600 dark:text-indigo-400"},R={class:"truncate text-xs text-gray-500 dark:text-gray-400"},U={class:"ml-4 flex-shrink-0 text-right"},H={class:"text-xs"},Q={class:"text-xs text-gray-500 dark:text-gray-400"},G={key:1,class:"rounded-lg bg-white py-12 text-center shadow dark:bg-gray-800"},J={class:"text-gray-600 dark:text-gray-300"},X={key:0},Z={key:1},tt=w({__name:"MyWallet",props:{balance:{type:Object,required:!0},transactions:{type:Object,required:!0},code:{type:String,required:!0}},setup(f){_.extend(j);const r=f,n=C("all"),x=M(()=>{var a;if(!((a=r.transactions)!=null&&a.data))return[];switch(n.value){case"points":return r.transactions.data.filter(t=>t.transaction_type.includes("_points")&&!t.transaction_type.includes("kill_points"));case"kill_points":return r.transactions.data.filter(t=>t.transaction_type.includes("_kill_points"));case"earned":return r.transactions.data.filter(t=>t.transaction_type.startsWith("earn_")||t.transaction_type==="transfer_in"||t.transaction_type==="bonus"||t.transaction_type==="refund");case"spent":return r.transactions.data.filter(t=>t.transaction_type.startsWith("spend_")||t.transaction_type==="transfer_out"||t.transaction_type==="penalty"||t.transaction_type==="membership_purchase");case"all":default:return r.transactions.data}});function l(a){n.value=a}function k(a){return a?_(a).utc().format("MMM DD, YYYY h:mm A"):"N/A"}function h(a,t){return`${t.startsWith("earn_")||t==="transfer_in"||t==="bonus"||t==="refund"?"+":"-"} ${Math.abs(a)}`}function v(a){return a.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())}return console.log("Wallet Page Loaded",{balance:r.balance,transactions:r.transactions,code:r.code}),(a,t)=>(i(),o(b,null,[c(p(W),{title:"My Wallet"}),e("div",N,[e("header",q,[e("div",D,[c(p(m),{href:"/",class:"absolute left-4 text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:u(()=>t[5]||(t[5]=[y(" ← Back ")])),_:1}),t[6]||(t[6]=e("h1",{class:"flex-1 text-center text-xl font-semibold text-gray-900 dark:text-gray-100"},"My Wallet",-1))])]),e("main",S,[e("section",Y,[e("div",z,[t[8]||(t[8]=e("h2",{class:"text-xl font-semibold text-gray-800 dark:text-gray-200"},"My Membership Card",-1)),c(p(m),{href:a.route("my-membership"),class:"text-sm text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:u(()=>t[7]||(t[7]=[y(" View Membership Details ")])),_:1},8,["href"])]),e("div",A,[e("img",{src:`https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(r.code)}&size=300x300`,alt:"Membership QR Code",class:"h-32 w-32 rounded-lg shadow-md"},null,8,B)])]),t[12]||(t[12]=e("section",{class:"mb-8 rounded-lg bg-white p-6 shadow dark:bg-gray-800"},[e("h2",{class:"mb-4 text-xl font-semibold text-gray-800 dark:text-gray-200"},"Top-up Points"),e("p",{class:"text-gray-600 dark:text-gray-300"},"This section will allow users to purchase more points. (Coming Soon)")],-1)),e("section",null,[e("div",F,[t[9]||(t[9]=e("h2",{class:"mb-4 text-2xl font-semibold text-gray-800 sm:mb-0 dark:text-gray-200"},"Transaction History",-1)),e("div",V,[e("button",{onClick:t[0]||(t[0]=s=>l("all")),class:d(["rounded-full px-3 py-1 font-medium",n.value==="all"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-700 dark:text-indigo-200":"text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700"])}," All ",2),e("button",{onClick:t[1]||(t[1]=s=>l("points")),class:d(["rounded-full px-3 py-1 font-medium",n.value==="points"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-700 dark:text-indigo-200":"text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700"])}," Points ",2),e("button",{onClick:t[2]||(t[2]=s=>l("kill_points")),class:d(["rounded-full px-3 py-1 font-medium",n.value==="kill_points"?"bg-red-100 text-red-700 dark:bg-red-700 dark:text-red-200":"text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700"])}," Kill Points ",2),e("button",{onClick:t[3]||(t[3]=s=>l("earned")),class:d(["rounded-full px-3 py-1 font-medium",n.value==="earned"?"bg-green-100 text-green-700 dark:bg-green-700 dark:text-green-200":"text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700"])}," Earned ",2),e("button",{onClick:t[4]||(t[4]=s=>l("spent")),class:d(["rounded-full px-3 py-1 font-medium",n.value==="spent"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-700 dark:text-yellow-200":"text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700"])}," Spent ",2)])]),x.value.length>0?(i(),o("div",L,[e("ul",O,[(i(!0),o(b,null,$(x.value,s=>(i(),o("li",{key:s.id,class:"px-4 py-4 transition-colors duration-150 hover:bg-gray-50 sm:px-6 dark:hover:bg-gray-700/50"},[e("div",E,[e("div",I,[e("p",K,g(v(s.transaction_type)),1),e("p",R,g(s.description),1)]),e("div",U,[e("p",{class:d(["text-sm font-semibold",{"text-green-600 dark:text-green-400":s.transaction_type.startsWith("earn_")||s.transaction_type==="transfer_in"||s.transaction_type==="bonus"||s.transaction_type==="refund","text-red-600 dark:text-red-400":s.transaction_type.startsWith("spend_")||s.transaction_type==="transfer_out"||s.transaction_type==="penalty"||s.transaction_type==="membership_purchase","text-gray-700 dark:text-gray-300":!(s.transaction_type.startsWith("earn_")||s.transaction_type.startsWith("spend_")||s.transaction_type.includes("transfer"))}])},[y(g(h(s.amount,s.transaction_type))+" ",1),e("span",H,g(s.transaction_type.includes("_kill_points")?"KP":"Pts"),1)],2),e("p",Q,g(k(s.created_at)),1)])])]))),128))])])):(i(),o("div",G,[t[10]||(t[10]=e("div",{class:"mb-4 text-6xl"},"💳",-1)),t[11]||(t[11]=e("h3",{class:"mb-2 text-xl font-semibold text-gray-900 dark:text-gray-100"},"No transactions found",-1)),e("p",J,[n.value!=="all"?(i(),o("span",X,"No transactions match the current filter.")):(i(),o("span",Z,"You haven't made any transactions yet."))])]))]),t[13]||(t[13]=e("section",{class:"mt-8 rounded-lg bg-white p-6 shadow dark:bg-gray-800"},[e("h2",{class:"mb-4 text-xl font-semibold text-gray-800 dark:text-gray-200"},"Spending Overview"),e("p",{class:"text-gray-600 dark:text-gray-300"},"Charts and graphs visualizing spending patterns will be displayed here. (Coming Soon)")],-1))]),c(P)])],64))}}),ot=T(tt,[["__scopeId","data-v-18a12269"]]);export{ot as default};
