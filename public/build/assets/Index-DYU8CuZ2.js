import{d as F,u as I,n as L,c as P,C as q,a as m,o as g,b as a,e as t,m as A,w as r,f as e,P as h,g as n,t as o,h as V,i as E,F as k,r as v,j as M,k as p,v as w,l as $}from"./app-ByQyqBS_.js";import{_ as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-DQAcQT4Q.js";import{g as z}from"./i18n-Y5fp0i2u.js";import{l as G}from"./lodash-DgEX6k8S.js";import{_ as H}from"./PageHeader.vue_vue_type_script_setup_true_lang-WXwtqcCB.js";import{_ as J,a as K}from"./AdminDataTable.vue_vue_type_script_setup_true_lang-CzbNyBYe.js";import{_ as D,a as f,b as _}from"./TableHeader.vue_vue_type_script_setup_true_lang-D6otcERP.js";import{_ as x,a as y}from"./CardContent.vue_vue_type_script_setup_true_lang-CzaPD53W.js";import{u as O}from"./useCurrency-CsV0hVXW.js";import{T as Q}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-DU-I71e0.js";import{C as R}from"./circle-check-big-C9ChBsDm.js";import{C as W,D as X}from"./dollar-sign-dqhZFE60.js";import"./index-CgpMGGsi.js";import"./index-f7ZDSE-M.js";import"./useForwardPropsEmits-BMF7lwx-.js";import"./useForwardExpose-Cm5UNL-Y.js";import"./useFocusGuards-DbLdHL-X.js";import"./Teleport-CdpgOwT1.js";import"./VisuallyHidden-D1GZ7jD7.js";import"./createLucideIcon-BMrOxxBw.js";import"./x-BzXsbRZC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CpED-Kne.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useToast-KxfFLkHg.js";import"./RovingFocusGroup-B7He9Lbd.js";const Y={class:"py-12"},Z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},tt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg"},et={class:"p-6 lg:p-8 bg-white dark:bg-gray-800 dark:bg-gradient-to-bl dark:from-gray-700/50 dark:via-transparent border-b border-gray-200 dark:border-gray-700"},st={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},at={class:"flex items-center"},ot={class:"flex-shrink-0 bg-blue-500 p-3 rounded-full"},rt={class:"ml-4"},lt={class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},dt={class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},it={class:"flex items-center"},nt={class:"flex-shrink-0 bg-green-500 p-3 rounded-full"},ut={class:"ml-4"},ct={class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},gt={class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},ft={class:"flex items-center"},mt={class:"flex-shrink-0 bg-yellow-500 p-3 rounded-full"},_t={class:"ml-4"},bt={class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},pt={class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},kt={class:"flex items-center"},xt={class:"flex-shrink-0 bg-purple-500 p-3 rounded-full"},yt={class:"ml-4"},ht={class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},vt={class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},wt={for:"search",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ct=["placeholder"],Vt={for:"status",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},$t={value:""},Dt=["value"],Bt={for:"event_id",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Nt={value:""},Tt=["value"],Ut={for:"date_from",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},St={for:"date_to",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Ft={class:"text-sm text-gray-500"},It={key:0},Lt={class:"font-medium"},Pt={class:"text-sm text-gray-500"},qt={key:1},ne=F({__name:"Index",props:{bookings:{},events:{},statuses:{},statistics:{},filters:{}},setup(B){const{t:l}=I(),N=L(),{formatPrice:T}=O(),C=P(()=>N.props.locale),b=B,u=q({search:b.filters.search||"",status:b.filters.status||"",event_id:b.filters.event_id||"",date_from:b.filters.date_from||"",date_to:b.filters.date_to||"",per_page:b.bookings.per_page||15}),c=G.throttle(()=>{u.get(route("admin.bookings.index"),{preserveState:!0,replace:!0})},300),U=d=>{if(!d)return"N/A";const i={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(d).toLocaleDateString(C.value,i)},S=d=>{switch(d){case"confirmed":return"bg-green-100 text-green-800 dark:bg-green-700 dark:text-green-200";case"pending_confirmation":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-600 dark:text-yellow-100";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-600 dark:text-red-100";case"used":return"bg-blue-100 text-blue-800 dark:bg-blue-600 dark:text-blue-100";case"expired":return"bg-gray-100 text-gray-800 dark:bg-gray-600 dark:text-gray-200";default:return"bg-gray-200 text-gray-800 dark:bg-gray-500 dark:text-gray-100"}};return(d,i)=>(g(),m(k,null,[a(t(A),{title:t(l)("bookings.index_title")},null,8,["title"]),a(j,null,{default:r(()=>[e("div",Y,[e("div",Z,[e("div",tt,[e("div",et,[a(H,{title:t(l)("bookings.index_title"),subtitle:t(l)("bookings.index_subtitle")},{actions:r(()=>[a(t(h),{href:d.route("admin.qr-scanner.index"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:border-blue-700 focus:ring focus:ring-blue-200 disabled:opacity-25 transition"},{default:r(()=>[n(o(t(l)("bookings.scan_qr_button")),1)]),_:1},8,["href"])]),_:1},8,["title","subtitle"]),e("div",st,[a(t(x),null,{default:r(()=>[a(t(y),{class:"pt-6"},{default:r(()=>[e("div",at,[e("div",ot,[a(t(Q),{class:"h-6 w-6 text-white"})]),e("div",rt,[e("p",lt,o(t(l)("bookings.stats.total_bookings")),1),e("p",dt,o(d.statistics.total_bookings),1)])])]),_:1})]),_:1}),a(t(x),null,{default:r(()=>[a(t(y),{class:"pt-6"},{default:r(()=>[e("div",it,[e("div",nt,[a(t(R),{class:"h-6 w-6 text-white"})]),e("div",ut,[e("p",ct,o(t(l)("bookings.stats.confirmed_bookings")),1),e("p",gt,o(d.statistics.confirmed_bookings),1)])])]),_:1})]),_:1}),a(t(x),null,{default:r(()=>[a(t(y),{class:"pt-6"},{default:r(()=>[e("div",ft,[e("div",mt,[a(t(W),{class:"h-6 w-6 text-white"})]),e("div",_t,[e("p",bt,o(t(l)("bookings.stats.pending_bookings")),1),e("p",pt,o(d.statistics.pending_bookings),1)])])]),_:1})]),_:1}),a(t(x),null,{default:r(()=>[a(t(y),{class:"pt-6"},{default:r(()=>[e("div",kt,[e("div",xt,[a(t(X),{class:"h-6 w-6 text-white"})]),e("div",yt,[e("p",ht,o(t(l)("bookings.stats.total_revenue")),1),e("p",vt,o(t(T)(d.statistics.total_revenue[d.statistics.default_currency]??0,d.statistics.default_currency)),1)])])]),_:1})]),_:1})]),a(J,null,{filters:r(()=>[e("div",null,[e("label",wt,o(t(l)("fields.search")),1),p(e("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=s=>t(u).search=s),onInput:i[1]||(i[1]=(...s)=>t(c)&&t(c)(...s)),id:"search",placeholder:t(l)("bookings.search_placeholder"),class:"mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,40,Ct),[[w,t(u).search]])]),e("div",null,[e("label",Vt,o(t(l)("fields.status")),1),p(e("select",{"onUpdate:modelValue":i[2]||(i[2]=s=>t(u).status=s),onChange:i[3]||(i[3]=(...s)=>t(c)&&t(c)(...s)),id:"status",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},[e("option",$t,o(t(l)("filters.all_statuses")),1),(g(!0),m(k,null,v(d.statuses,s=>(g(),m("option",{key:s.value,value:s.value},o(s.label),9,Dt))),128))],544),[[$,t(u).status]])]),e("div",null,[e("label",Bt,o(t(l)("fields.event")),1),p(e("select",{"onUpdate:modelValue":i[4]||(i[4]=s=>t(u).event_id=s),onChange:i[5]||(i[5]=(...s)=>t(c)&&t(c)(...s)),id:"event_id",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},[e("option",Nt,o(t(l)("filters.all_events")),1),(g(!0),m(k,null,v(d.events,s=>(g(),m("option",{key:s.id,value:s.id},o(t(z)(s.name,C.value)),9,Tt))),128))],544),[[$,t(u).event_id]])]),e("div",null,[e("label",Ut,o(t(l)("fields.date_from")),1),p(e("input",{type:"date","onUpdate:modelValue":i[6]||(i[6]=s=>t(u).date_from=s),onChange:i[7]||(i[7]=(...s)=>t(c)&&t(c)(...s)),id:"date_from",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,544),[[w,t(u).date_from]])]),e("div",null,[e("label",St,o(t(l)("fields.date_to")),1),p(e("input",{type:"date","onUpdate:modelValue":i[8]||(i[8]=s=>t(u).date_to=s),onChange:i[9]||(i[9]=(...s)=>t(c)&&t(c)(...s)),id:"date_to",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,544),[[w,t(u).date_to]])])]),header:r(()=>[a(t(_),null,{default:r(()=>[n(o(t(l)("fields.booking_number")),1)]),_:1}),a(t(_),null,{default:r(()=>[n(o(t(l)("fields.event")),1)]),_:1}),a(t(_),null,{default:r(()=>[n(o(t(l)("fields.customer")),1)]),_:1}),a(t(_),null,{default:r(()=>[n(o(t(l)("fields.status")),1)]),_:1}),a(t(_),null,{default:r(()=>[n(o(t(l)("fields.transaction")),1)]),_:1}),a(t(_),null,{default:r(()=>[n(o(t(l)("fields.total_price")),1)]),_:1}),a(t(_),null,{default:r(()=>[n(o(t(l)("fields.date")),1)]),_:1}),a(t(_),{class:"text-right"},{default:r(()=>[n(o(t(l)("fields.actions")),1)]),_:1})]),body:r(()=>[d.bookings.data&&d.bookings.data.length===0?(g(),V(t(D),{key:0},{default:r(()=>[a(t(f),{colspan:"7",class:"text-center"},{default:r(()=>[n(o(t(l)("bookings.no_bookings_found")),1)]),_:1})]),_:1})):E("",!0),(g(!0),m(k,null,v(d.bookings.data,s=>(g(),V(t(D),{key:s.id},{default:r(()=>[a(t(f),{class:"font-medium text-gray-900 dark:text-white"},{default:r(()=>[a(t(h),{href:d.route("admin.bookings.show",s.id),class:"hover:underline"},{default:r(()=>[n(o(s.booking_number),1)]),_:2},1032,["href"])]),_:2},1024),a(t(f),null,{default:r(()=>[n(o(s.event_name),1)]),_:2},1024),a(t(f),null,{default:r(()=>[e("div",null,o(s.user_name),1),e("div",Ft,o(s.user_email),1)]),_:2},1024),a(t(f),null,{default:r(()=>[e("span",{class:M([S(s.status_value),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},o(s.status),3)]),_:2},1024),a(t(f),null,{default:r(()=>[s.transaction?(g(),m("div",It,[e("div",Lt,o(s.transaction.id),1),e("div",Pt,o(s.transaction.payment_gateway),1)])):(g(),m("div",qt,"N/A"))]),_:2},1024),a(t(f),null,{default:r(()=>[n(o(s.total_price_formatted),1)]),_:2},1024),a(t(f),null,{default:r(()=>[n(o(U(s.created_at)),1)]),_:2},1024),a(t(f),{class:"text-right"},{default:r(()=>[a(t(h),{href:d.route("admin.bookings.show",s.id),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-600 mr-3"},{default:r(()=>[n(o(t(l)("actions.view")),1)]),_:2},1032,["href"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),a(K,{links:d.bookings.links,from:d.bookings.from,to:d.bookings.to,total:d.bookings.total},null,8,["links","from","to","total"])])])])])]),_:1})],64))}});export{ne as default};
