import{d as L,u as P,n as W,c as j,C as q,s as y,D as G,a as x,o as m,b as s,e,m as H,w as t,f as d,P as h,g as o,t as l,h as D,i as J,F as w,r as N,j as S,k as z,v as K,l as O,W as Q}from"./app-CGQ0TI7Y.js";import{_ as R}from"./AppLayout.vue_vue_type_script_setup_true_lang-CMjZICz_.js";import{_ as X,a as Y,b as Z,c as ee,d as te}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CtJAKuJN.js";import{_ as V}from"./index-Df_9D6Ld.js";import{g as k}from"./i18n-BesMc3CI.js";import{l as ae}from"./lodash-D4wMJZ75.js";import{_ as re}from"./PageHeader.vue_vue_type_script_setup_true_lang-kj8E5Ixf.js";import{_ as se,a as le}from"./AdminDataTable.vue_vue_type_script_setup_true_lang-BpjrcQdH.js";import{_ as E,a as u,b as c}from"./TableHeader.vue_vue_type_script_setup_true_lang-89ILjRox.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BSvl-boQ.js";import"./useForwardPropsEmits-CjFricEf.js";import"./useForwardExpose-D4uuvYxf.js";import"./useFocusGuards-DnVuDt3J.js";import"./Teleport-Dkt4jPSJ.js";import"./VisuallyHidden-D6Ya2WGV.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-MEGwmUa3.js";import"./RovingFocusGroup-Dst5JGNJ.js";import"./createLucideIcon-CRq1YezX.js";import"./x-Dw6ZbmiC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Yge9527i.js";import"./useToast-voWX6zgl.js";const oe={class:"py-12"},ie={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},de={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg"},ue={class:"p-6 lg:p-8 bg-white dark:bg-gray-800 dark:bg-gradient-to-bl dark:from-gray-700/50 dark:via-transparent border-b border-gray-200 dark:border-gray-700"},ce={for:"search_name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},fe=["placeholder"],me={for:"event_status",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ge={value:""},_e=["value"],pe=["onClick"],be={class:"py-4 text-sm text-gray-600 dark:text-gray-400"},ve=L({__name:"Index",props:{events:{},filters:{}},setup(I){const{t:a}=P(),A=W(),b=j(()=>A.props.locale),g=I,f=q({search_name:g.filters.search_name||"",category_id:g.filters.category_id||"",organizer_id:g.filters.organizer_id||"",event_status:g.filters.event_status||"",per_page:g.events.per_page||15}),v=y(!1),_=y(null),B=y([{value:"draft",label:a("events.status.draft")},{value:"pending_approval",label:a("events.status.pending_approval")},{value:"published",label:a("events.status.published")},{value:"cancelled",label:a("events.status.cancelled")},{value:"completed",label:a("events.status.completed")},{value:"past",label:a("events.status.past")}]),p=ae.throttle(()=>{f.get(route("admin.events.index"),{preserveState:!0,replace:!0})},300);G(()=>f.per_page,()=>{p()});const M=(n,i)=>{_.value={id:n,name:i},v.value=!0},$=()=>{v.value=!1,_.value=null},T=()=>{_.value&&Q.delete(route("admin.events.destroy",_.value.id),{onSuccess:()=>$(),preserveState:!1})},U=n=>{if(!n)return"N/A";const i={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(n).toLocaleDateString(b.value,i)},C=n=>n?n.replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase()):"N/A",F=n=>{switch(n){case"published":return"bg-green-100 text-green-800 dark:bg-green-700 dark:text-green-200";case"draft":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-600 dark:text-yellow-100";case"pending_approval":return"bg-blue-100 text-blue-800 dark:bg-blue-600 dark:text-blue-100";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-600 dark:text-red-100";case"completed":return"bg-purple-100 text-purple-800 dark:bg-purple-600 dark:text-purple-100";case"past":return"bg-gray-100 text-gray-800 dark:bg-gray-600 dark:text-gray-200";default:return"bg-gray-200 text-gray-800 dark:bg-gray-500 dark:text-gray-100"}};return(n,i)=>(m(),x(w,null,[s(e(H),{title:e(a)("events.index_title")},null,8,["title"]),s(R,null,{default:t(()=>[d("div",oe,[d("div",ie,[d("div",de,[d("div",ue,[s(re,{title:e(a)("events.index_title"),subtitle:e(a)("events.index_subtitle")},{actions:t(()=>[s(e(h),{href:n.route("admin.ticket-definitions.index"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:border-blue-700 focus:ring focus:ring-blue-200 disabled:opacity-25 transition"},{default:t(()=>[o(l(e(a)("events.manage_ticket_definitions_button")),1)]),_:1},8,["href"]),s(e(h),{href:n.route("admin.events.create"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-500 active:bg-indigo-700 focus:outline-none focus:border-indigo-700 focus:ring focus:ring-indigo-200 disabled:opacity-25 transition"},{default:t(()=>[o(l(e(a)("events.create_button")),1)]),_:1},8,["href"])]),_:1},8,["title","subtitle"]),s(se,null,{filters:t(()=>[d("div",null,[d("label",ce,l(e(a)("fields.search_by_name")),1),z(d("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=r=>e(f).search_name=r),onInput:i[1]||(i[1]=(...r)=>e(p)&&e(p)(...r)),id:"search_name",placeholder:e(a)("events.search_placeholder"),class:"mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,40,fe),[[K,e(f).search_name]])]),d("div",null,[d("label",me,l(e(a)("fields.status")),1),z(d("select",{"onUpdate:modelValue":i[2]||(i[2]=r=>e(f).event_status=r),onChange:i[3]||(i[3]=(...r)=>e(p)&&e(p)(...r)),id:"event_status",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},[d("option",ge,l(e(a)("filters.all_statuses")),1),(m(!0),x(w,null,N(B.value,r=>(m(),x("option",{key:r.value,value:r.value},l(r.label),9,_e))),128))],544),[[O,e(f).event_status]])])]),header:t(()=>[s(e(c),null,{default:t(()=>[o(l(e(a)("fields.name")),1)]),_:1}),s(e(c),null,{default:t(()=>[o(l(e(a)("fields.category")),1)]),_:1}),s(e(c),null,{default:t(()=>[o(l(e(a)("fields.organizer")),1)]),_:1}),s(e(c),null,{default:t(()=>[o(l(e(a)("fields.status")),1)]),_:1}),s(e(c),null,{default:t(()=>[o(l(e(a)("fields.visibility")),1)]),_:1}),s(e(c),null,{default:t(()=>[o(l(e(a)("fields.featured")),1)]),_:1}),s(e(c),null,{default:t(()=>[o(l(e(a)("fields.published_at")),1)]),_:1}),s(e(c),{class:"text-right"},{default:t(()=>[o(l(e(a)("fields.actions")),1)]),_:1})]),body:t(()=>[n.events.data&&n.events.data.length===0?(m(),D(e(E),{key:0},{default:t(()=>[s(e(u),{colspan:"8",class:"text-center"},{default:t(()=>[o(l(e(a)("events.no_events_found")),1)]),_:1})]),_:1})):J("",!0),(m(!0),x(w,null,N(n.events.data,r=>(m(),D(e(E),{key:r.id},{default:t(()=>[s(e(u),{class:"font-medium text-gray-900 dark:text-white"},{default:t(()=>[o(l(e(k)(r.name,b.value)),1)]),_:2},1024),s(e(u),null,{default:t(()=>[o(l(r.category?e(k)(r.category.name,b.value):"N/A"),1)]),_:2},1024),s(e(u),null,{default:t(()=>[o(l(r.organizer?e(k)(r.organizer.name,b.value):"N/A"),1)]),_:2},1024),s(e(u),null,{default:t(()=>[d("span",{class:S([F(r.event_status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},l(C(r.event_status)),3)]),_:2},1024),s(e(u),null,{default:t(()=>[o(l(C(r.visibility)),1)]),_:2},1024),s(e(u),null,{default:t(()=>[d("span",{class:S(r.is_featured?"text-green-500":"text-red-500")},l(r.is_featured?e(a)("common.yes"):e(a)("common.no")),3)]),_:2},1024),s(e(u),null,{default:t(()=>[o(l(U(r.published_at)),1)]),_:2},1024),s(e(u),{class:"text-right"},{default:t(()=>[s(e(h),{href:n.route("admin.events.edit",r.id),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-600 mr-3"},{default:t(()=>[o(l(e(a)("actions.edit")),1)]),_:2},1032,["href"]),s(e(h),{href:n.route("admin.events.occurrences.index",{event:r.id}),class:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-600 mr-3"},{default:t(()=>[o(l(e(a)("events.occurrences")),1)]),_:2},1032,["href"]),d("button",{onClick:xe=>M(r.id,e(k)(r.name,"en")),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-600"},l(e(a)("actions.delete")),9,pe)]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(le,{links:n.events.links,from:n.events.from,to:n.events.to,total:n.events.total},null,8,["links","from","to","total"])])])])]),s(e(X),{open:v.value,"onUpdate:open":i[4]||(i[4]=r=>v.value=r)},{default:t(()=>[s(e(Y),{class:"sm:max-w-[425px]"},{default:t(()=>{var r;return[s(e(Z),null,{default:t(()=>[s(e(ee),null,{default:t(()=>[o(l(e(a)("events.delete_title")),1)]),_:1})]),_:1}),d("p",be,l(e(a)("events.delete_confirmation",{name:(r=_.value)==null?void 0:r.name})),1),s(e(te),null,{default:t(()=>[s(V,{variant:"outline",onClick:$},{default:t(()=>[o(l(e(a)("actions.cancel")),1)]),_:1}),s(V,{variant:"destructive",onClick:T,class:"ml-3"},{default:t(()=>[o(l(e(a)("events.delete_button")),1)]),_:1})]),_:1})]}),_:1})]),_:1},8,["open"])]),_:1})],64))}}),je=ne(ve,[["__scopeId","data-v-5e15d9f7"]]);export{je as default};
