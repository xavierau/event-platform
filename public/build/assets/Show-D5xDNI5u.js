import{d as E,h as c,o as m,w as o,b as s,f as n,e as t,m as L,P as B,g as a,t as l,i as g,j as I,a as u,F as A,r as N}from"./app-CGQ0TI7Y.js";import{C as M,M as U,_ as H}from"./AppLayout.vue_vue_type_script_setup_true_lang-CMjZICz_.js";import{_ as S}from"./index-Df_9D6Ld.js";import{_ as d}from"./Label.vue_vue_type_script_setup_true_lang-CXxeD9Iq.js";import{_ as k,a as p}from"./CardContent.vue_vue_type_script_setup_true_lang-CAbMaRkL.js";import{_ as x,a as b}from"./CardTitle.vue_vue_type_script_setup_true_lang-WEHnsC0E.js";import{g as y,c as _}from"./i18n-BesMc3CI.js";import{c as w}from"./createLucideIcon-CRq1YezX.js";import{T as V}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-MEGwmUa3.js";import{C as j,D as O}from"./dollar-sign-xFX44WzP.js";import{C as Q}from"./circle-check-big-D2c4nvlI.js";import{C as F}from"./circle-x-Bfpa-x-E.js";import"./index-BSvl-boQ.js";import"./useForwardPropsEmits-CjFricEf.js";import"./useForwardExpose-D4uuvYxf.js";import"./useFocusGuards-DnVuDt3J.js";import"./Teleport-Dkt4jPSJ.js";import"./VisuallyHidden-D6Ya2WGV.js";import"./x-Dw6ZbmiC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Yge9527i.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useToast-voWX6zgl.js";import"./RovingFocusGroup-Dst5JGNJ.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=w("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=w("CreditCardIcon",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=w("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=w("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=w("UserIcon",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Z={class:"container mx-auto px-4 py-6 max-w-7xl"},K={class:"sm:flex sm:items-center sm:justify-between mb-8"},Y={class:"flex items-center space-x-3"},tt={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mt-2"},et={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none space-x-3"},st={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},nt={class:"lg:col-span-2 space-y-6"},ot={class:"grid grid-cols-2 gap-4"},it={class:"text-lg font-semibold"},at={class:"mt-1"},lt={class:"text-sm font-mono bg-gray-100 dark:bg-gray-800 p-2 rounded"},dt={class:"text-lg font-semibold"},rt={class:"text-lg font-semibold"},mt={class:"text-lg font-semibold"},ut={class:"text-lg"},gt={class:"text-sm"},ft={class:"text-lg font-semibold"},yt={key:0},_t={class:"text-sm text-gray-600 dark:text-gray-400"},kt={key:0},pt={class:"font-semibold"},xt={key:1},bt={class:"text-sm text-gray-600 dark:text-gray-400"},ct={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},vt={class:"text-sm"},wt={key:0},ht={class:"text-sm"},Ct={class:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"},St={key:1},Dt={class:"text-sm"},Tt={key:2,class:"mt-4 pt-4 border-t"},$t={class:"flex items-center mb-2"},Bt={class:"ml-6 space-y-1"},It={class:"font-medium"},At={class:"text-sm text-gray-600 dark:text-gray-400"},Nt={key:3,class:"mt-4 pt-4 border-t"},Mt={class:"flex items-center mb-2"},Pt={class:"ml-6"},qt={key:0,class:"text-sm text-blue-600 dark:text-blue-400"},zt=["href"],Et={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},Lt={class:"text-lg font-semibold"},Ut={key:0},Ht={class:"text-sm text-gray-600 dark:text-gray-400"},Vt={class:"grid grid-cols-2 gap-4"},jt={class:"text-sm"},Ot={key:0},Qt={class:"text-sm"},Ft={class:"space-y-3"},Rt={class:"flex justify-between items-start"},Gt={class:"font-medium"},Jt={class:"text-sm text-gray-600 dark:text-gray-400"},Wt={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},Xt={class:"text-xs bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200 px-2 py-1 rounded"},Zt={class:"space-y-6"},Kt={class:"font-semibold"},Yt={class:"text-sm"},te={key:0},ee={class:"text-sm"},se={class:"text-sm font-mono"},ne={class:"text-lg font-semibold"},oe={class:"text-sm uppercase"},ie={key:0},ae={class:"text-sm capitalize"},le={key:1},de={class:"text-xs font-mono bg-gray-100 dark:bg-gray-800 p-2 rounded break-all"},re={key:2},me={class:"text-xs font-mono bg-gray-100 dark:bg-gray-800 p-2 rounded break-all"},ue={class:"text-sm"},ze=E({__name:"Show",props:{booking:{},pageTitle:{},breadcrumbs:{}},setup(ge){const P=i=>{const e="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",f={confirmed:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",pending_confirmation:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",used:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"};return`${e} ${f[i]||f.pending_confirmation}`},q=i=>{const e="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",f={confirmed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",pending_payment:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",failed:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",cancelled:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return`${e} ${f[i]||f.pending_payment}`},D=i=>i?i.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"Unknown",h=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=i=>(i/100).toFixed(2),T=(i,e)=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:e})+` (${e})`,z=()=>{confirm("Are you sure you want to cancel this booking?")&&alert("Cancel booking functionality coming soon!")};return(i,e)=>(m(),c(H,null,{default:o(()=>{var f;return[s(t(L),{title:i.pageTitle},null,8,["title"]),n("div",Z,[n("div",K,[n("div",null,[n("div",Y,[s(t(S),{variant:"ghost",size:"sm","as-child":""},{default:o(()=>[s(t(B),{href:i.route("admin.bookings.index")},{default:o(()=>[s(t(R),{class:"h-4 w-4 mr-2"}),e[0]||(e[0]=a(" Back to Bookings "))]),_:1},8,["href"])]),_:1})]),n("h1",tt,l(i.pageTitle),1)]),n("div",et,[s(t(S),{variant:"outline","as-child":""},{default:o(()=>[s(t(B),{href:i.route("admin.bookings.edit",i.booking.id)},{default:o(()=>[s(t(W),{class:"h-4 w-4 mr-2"}),e[1]||(e[1]=a(" Edit Booking "))]),_:1},8,["href"])]),_:1}),s(t(S),null,{default:o(()=>[s(t(J),{class:"h-4 w-4 mr-2"}),e[2]||(e[2]=a(" Download QR "))]),_:1})])]),n("div",st,[n("div",nt,[s(t(k),null,{default:o(()=>[s(t(x),null,{default:o(()=>[s(t(b),{class:"flex items-center"},{default:o(()=>[s(t(V),{class:"h-5 w-5 mr-2"}),e[3]||(e[3]=a(" Booking Information "))]),_:1})]),_:1}),s(t(p),{class:"space-y-4"},{default:o(()=>[n("div",ot,[n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[4]||(e[4]=[a("Booking Number")])),_:1}),n("p",it,l(i.booking.booking_number),1)]),n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[5]||(e[5]=[a("Status")])),_:1}),n("div",at,[n("span",{class:I(P(i.booking.status))},l(D(i.booking.status)),3)])]),n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[6]||(e[6]=[a("QR Code")])),_:1}),n("p",lt,l(i.booking.qr_code_identifier),1)]),n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[7]||(e[7]=[a("Quantity")])),_:1}),n("p",dt,l(i.booking.quantity),1)]),n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[8]||(e[8]=[a("Price per Unit")])),_:1}),n("p",rt,"$"+l(C(i.booking.price_at_booking)),1)]),n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[9]||(e[9]=[a("Total Amount")])),_:1}),n("p",mt,"$"+l(C(i.booking.price_at_booking*i.booking.quantity)),1)]),n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[10]||(e[10]=[a("Check-ins Allowed")])),_:1}),n("p",ut,l(i.booking.max_allowed_check_ins||1),1)]),n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[11]||(e[11]=[a("Booking Date")])),_:1}),n("p",gt,l(h(i.booking.created_at)),1)])])]),_:1})]),_:1}),i.booking.event?(m(),c(t(k),{key:0},{default:o(()=>[s(t(x),null,{default:o(()=>[s(t(b),{class:"flex items-center"},{default:o(()=>[s(t(M),{class:"h-5 w-5 mr-2"}),e[12]||(e[12]=a(" Event Information "))]),_:1})]),_:1}),s(t(p),{class:"space-y-4"},{default:o(()=>[n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[13]||(e[13]=[a("Event Name")])),_:1}),n("p",ft,l(t(y)(i.booking.event.name,t(_))),1)]),i.booking.event.description?(m(),u("div",yt,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[14]||(e[14]=[a("Description")])),_:1}),n("p",_t,l(t(y)(i.booking.event.description,t(_))),1)])):g("",!0)]),_:1})]),_:1})):g("",!0),(f=i.booking.ticket_definition)!=null&&f.event_occurrences&&i.booking.ticket_definition.event_occurrences.length>0?(m(),c(t(k),{key:1},{default:o(()=>[s(t(x),null,{default:o(()=>[s(t(b),{class:"flex items-center"},{default:o(()=>[s(t(j),{class:"h-5 w-5 mr-2"}),e[15]||(e[15]=a(" Event Schedule "))]),_:1})]),_:1}),s(t(p),{class:"space-y-4"},{default:o(()=>[(m(!0),u(A,null,N(i.booking.ticket_definition.event_occurrences,r=>(m(),u("div",{key:r.id,class:"border rounded-lg p-4 space-y-3"},[r.name?(m(),u("div",kt,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[16]||(e[16]=[a("Session Name")])),_:1}),n("p",pt,l(t(y)(r.name,t(_))),1)])):g("",!0),r.description?(m(),u("div",xt,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[17]||(e[17]=[a("Session Description")])),_:1}),n("p",bt,l(t(y)(r.description,t(_))),1)])):g("",!0),n("div",ct,[n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[18]||(e[18]=[a("Start Date & Time")])),_:1}),n("p",vt,l(T(r.start_at_utc,r.timezone)),1)]),r.end_at_utc?(m(),u("div",wt,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[19]||(e[19]=[a("End Date & Time")])),_:1}),n("p",ht,l(T(r.end_at_utc,r.timezone)),1)])):g("",!0),n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[20]||(e[20]=[a("Status")])),_:1}),n("span",Ct,l(D(r.status)),1)]),r.capacity?(m(),u("div",St,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[21]||(e[21]=[a("Capacity")])),_:1}),n("p",Dt,l(r.capacity)+" attendees",1)])):g("",!0)]),r.venue?(m(),u("div",Tt,[n("div",$t,[s(t(U),{class:"h-4 w-4 mr-2 text-gray-500"}),s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[22]||(e[22]=[a("Venue")])),_:1})]),n("div",Bt,[n("p",It,l(t(y)(r.venue.name,t(_))),1),n("p",At,[a(l(t(y)(r.venue.address_line_1,t(_))),1),e[23]||(e[23]=n("br",null,null,-1)),a(" "+l(t(y)(r.venue.city,t(_)))+" "+l(r.venue.postal_code),1)])])])):g("",!0),r.is_online?(m(),u("div",Nt,[n("div",Mt,[s(t(M),{class:"h-4 w-4 mr-2 text-gray-500"}),s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[24]||(e[24]=[a("Online Event")])),_:1})]),n("div",Pt,[r.online_meeting_link?(m(),u("p",qt,[n("a",{href:r.online_meeting_link,target:"_blank",class:"underline"}," Join Online Meeting ",8,zt)])):(m(),u("p",Et," Online meeting link will be provided closer to the event date. "))])])):g("",!0)]))),128))]),_:1})]),_:1})):g("",!0),i.booking.ticket_definition?(m(),c(t(k),{key:2},{default:o(()=>[s(t(x),null,{default:o(()=>[s(t(b),{class:"flex items-center"},{default:o(()=>[s(t(G),{class:"h-5 w-5 mr-2"}),e[25]||(e[25]=a(" Ticket Information "))]),_:1})]),_:1}),s(t(p),{class:"space-y-4"},{default:o(()=>[n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[26]||(e[26]=[a("Ticket Type")])),_:1}),n("p",Lt,l(t(y)(i.booking.ticket_definition.name,t(_))),1)]),i.booking.ticket_definition.description?(m(),u("div",Ut,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[27]||(e[27]=[a("Description")])),_:1}),n("p",Ht,l(t(y)(i.booking.ticket_definition.description,t(_))),1)])):g("",!0),n("div",Vt,[n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[28]||(e[28]=[a("Current Price")])),_:1}),n("p",jt,"$"+l(C(i.booking.ticket_definition.price)),1)]),i.booking.ticket_definition.total_quantity?(m(),u("div",Ot,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[29]||(e[29]=[a("Total Available")])),_:1}),n("p",Qt,l(i.booking.ticket_definition.total_quantity),1)])):g("",!0)])]),_:1})]),_:1})):g("",!0),i.booking.check_in_logs&&i.booking.check_in_logs.length>0?(m(),c(t(k),{key:3},{default:o(()=>[s(t(x),null,{default:o(()=>[s(t(b),{class:"flex items-center"},{default:o(()=>[s(t(Q),{class:"h-5 w-5 mr-2"}),e[30]||(e[30]=a(" Check-in History "))]),_:1})]),_:1}),s(t(p),null,{default:o(()=>[n("div",Ft,[(m(!0),u(A,null,N(i.booking.check_in_logs,r=>{var v;return m(),u("div",{key:r.id,class:"border-l-4 border-green-400 bg-green-50 dark:bg-green-900/20 p-4 rounded-r"},[n("div",Rt,[n("div",null,[n("p",Gt,l(r.method||"Manual")+" Check-in",1),n("p",Jt,l(h(r.check_in_timestamp)),1),(v=r.operator)!=null&&v.name?(m(),u("p",Wt," Operator: "+l(r.operator.name),1)):g("",!0)]),n("span",Xt,l(r.status||"Success"),1)])])}),128))])]),_:1})]),_:1})):g("",!0)]),n("div",Zt,[s(t(k),null,{default:o(()=>[s(t(x),null,{default:o(()=>[s(t(b),{class:"flex items-center"},{default:o(()=>[s(t(X),{class:"h-5 w-5 mr-2"}),e[31]||(e[31]=a(" Customer Information "))]),_:1})]),_:1}),s(t(p),{class:"space-y-4"},{default:o(()=>{var r,v,$;return[n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[32]||(e[32]=[a("Name")])),_:1}),n("p",Kt,l(((r=i.booking.user)==null?void 0:r.name)||"N/A"),1)]),n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[33]||(e[33]=[a("Email")])),_:1}),n("p",Yt,l(((v=i.booking.user)==null?void 0:v.email)||"N/A"),1)]),($=i.booking.user)!=null&&$.created_at?(m(),u("div",te,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[34]||(e[34]=[a("Customer Since")])),_:1}),n("p",ee,l(h(i.booking.user.created_at)),1)])):g("",!0)]}),_:1})]),_:1}),i.booking.transaction?(m(),c(t(k),{key:0},{default:o(()=>[s(t(x),null,{default:o(()=>[s(t(b),{class:"flex items-center"},{default:o(()=>[s(t(O),{class:"h-5 w-5 mr-2"}),e[35]||(e[35]=a(" Transaction Details "))]),_:1})]),_:1}),s(t(p),{class:"space-y-4"},{default:o(()=>[n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[36]||(e[36]=[a("Transaction ID")])),_:1}),n("p",se,"#"+l(i.booking.transaction.id),1)]),n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[37]||(e[37]=[a("Total Amount")])),_:1}),n("p",ne,"$"+l(C(i.booking.transaction.total_amount)),1)]),n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[38]||(e[38]=[a("Status")])),_:1}),n("span",{class:I(q(i.booking.transaction.status))},l(D(i.booking.transaction.status)),3)]),n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[39]||(e[39]=[a("Currency")])),_:1}),n("p",oe,l(i.booking.transaction.currency),1)]),i.booking.transaction.payment_gateway?(m(),u("div",ie,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[40]||(e[40]=[a("Payment Gateway")])),_:1}),n("p",ae,l(i.booking.transaction.payment_gateway),1)])):g("",!0),i.booking.transaction.payment_gateway_transaction_id?(m(),u("div",le,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[41]||(e[41]=[a("Stripe Session ID")])),_:1}),n("p",de,l(i.booking.transaction.payment_gateway_transaction_id),1)])):g("",!0),i.booking.transaction.payment_intent_id?(m(),u("div",re,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[42]||(e[42]=[a("Stripe Payment Intent ID")])),_:1}),n("p",me,l(i.booking.transaction.payment_intent_id),1)])):g("",!0),n("div",null,[s(t(d),{class:"text-sm font-medium text-gray-500"},{default:o(()=>e[43]||(e[43]=[a("Transaction Date")])),_:1}),n("p",ue,l(h(i.booking.transaction.created_at)),1)])]),_:1})]),_:1})):g("",!0),s(t(k),null,{default:o(()=>[s(t(x),null,{default:o(()=>[s(t(b),null,{default:o(()=>e[44]||(e[44]=[a("Quick Actions")])),_:1})]),_:1}),s(t(p),{class:"space-y-3"},{default:o(()=>[s(t(S),{variant:"destructive",class:"w-full",onClick:z},{default:o(()=>[s(t(F),{class:"h-4 w-4 mr-2"}),e[45]||(e[45]=a(" Cancel Booking "))]),_:1})]),_:1})]),_:1})])])])]}),_:1}))}});export{ze as default};
